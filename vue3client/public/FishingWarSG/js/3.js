(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{330:function(t,e){var i,n,r,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){!function(t){var e,i,n,r=function(){function t(t,e,i){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=i}return t.prototype.apply=function(t,e,i,n,r,a,s,o){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(i%=this.duration,e>0&&(e%=this.duration));for(var h=this.timelines,l=0,c=h.length;l<c;l++)h[l].apply(t,e,i,r,a,s,o)},t.binarySearch=function(t,e,i){void 0===i&&(i=1);var n=0,r=t.length/i-2;if(0==r)return i;for(var a=r>>>1;;){if(t[(a+1)*i]<=e?n=a+1:r=a,n==r)return(n+1)*i;a=n+r>>>1}},t.linearSearch=function(t,e,i){for(var n=0,r=t.length-i;n<=r;n+=i)if(t[n]>e)return n;return-1},t}();t.Animation=r,function(t){t[t.setup=0]="setup",t[t.current=1]="current",t[t.currentLayered=2]="currentLayered"}(e=t.MixPose||(t.MixPose={})),function(t){t[t.in=0]="in",t[t.out=1]="out"}(i=t.MixDirection||(t.MixDirection={})),function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(n=t.TimelineType||(t.TimelineType={}));var s=function(){function e(i){if(i<=0)throw new Error("frameCount must be > 0: "+i);this.curves=t.Utils.newFloatArray((i-1)*e.BEZIER_SIZE)}return e.prototype.getFrameCount=function(){return this.curves.length/e.BEZIER_SIZE+1},e.prototype.setLinear=function(t){this.curves[t*e.BEZIER_SIZE]=e.LINEAR},e.prototype.setStepped=function(t){this.curves[t*e.BEZIER_SIZE]=e.STEPPED},e.prototype.getCurveType=function(t){var i=t*e.BEZIER_SIZE;if(i==this.curves.length)return e.LINEAR;var n=this.curves[i];return n==e.LINEAR?e.LINEAR:n==e.STEPPED?e.STEPPED:e.BEZIER},e.prototype.setCurve=function(t,i,n,r,a){var s=.03*(2*-i+r),o=.03*(2*-n+a),h=.006*(3*(i-r)+1),l=.006*(3*(n-a)+1),c=2*s+h,u=2*o+l,p=.3*i+s+.16666667*h,f=.3*n+o+.16666667*l,d=t*e.BEZIER_SIZE,m=this.curves;m[d++]=e.BEZIER;for(var g=p,v=f,y=d+e.BEZIER_SIZE-1;d<y;d+=2)m[d]=g,m[d+1]=v,p+=c,f+=u,c+=h,u+=l,g+=p,v+=f},e.prototype.getCurvePercent=function(i,n){n=t.MathUtils.clamp(n,0,1);var r=this.curves,a=i*e.BEZIER_SIZE,s=r[a];if(s==e.LINEAR)return n;if(s==e.STEPPED)return 0;for(var o=0,h=++a,l=a+e.BEZIER_SIZE-1;a<l;a+=2)if((o=r[a])>=n){var c=void 0,u=void 0;return a==h?(c=0,u=0):(c=r[a-2],u=r[a-1]),u+(r[a+1]-u)*(n-c)/(o-c)}var p=r[a-1];return p+(1-p)*(n-o)/(1-o)},e.LINEAR=0,e.STEPPED=1,e.BEZIER=2,e.BEZIER_SIZE=19,e}();t.CurveTimeline=s;var o=function(i){function s(e){var n=i.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e<<1),n}return a(s,i),s.prototype.getPropertyId=function(){return(n.rotate<<24)+this.boneIndex},s.prototype.setFrame=function(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+s.ROTATION]=i},s.prototype.apply=function(t,i,n,a,o,h,l){var c=this.frames,u=t.bones[this.boneIndex];if(n<c[0])switch(h){case e.setup:return void(u.rotation=u.data.rotation);case e.current:var p=u.data.rotation-u.rotation;p-=360*(16384-(16384.499999999996-p/360|0)),u.rotation+=p*o}else if(n>=c[c.length-s.ENTRIES])if(h==e.setup)u.rotation=u.data.rotation+c[c.length+s.PREV_ROTATION]*o;else{var f=u.data.rotation+c[c.length+s.PREV_ROTATION]-u.rotation;f-=360*(16384-(16384.499999999996-f/360|0)),u.rotation+=f*o}else{var d=r.binarySearch(c,n,s.ENTRIES),m=c[d+s.PREV_ROTATION],g=c[d],v=this.getCurvePercent((d>>1)-1,1-(n-g)/(c[d+s.PREV_TIME]-g)),y=c[d+s.ROTATION]-m;y=m+(y-=360*(16384-(16384.499999999996-y/360|0)))*v,h==e.setup?(y-=360*(16384-(16384.499999999996-y/360|0)),u.rotation=u.data.rotation+y*o):(y=u.data.rotation+y-u.rotation,y-=360*(16384-(16384.499999999996-y/360|0)),u.rotation+=y*o)}},s.ENTRIES=2,s.PREV_TIME=-2,s.PREV_ROTATION=-1,s.ROTATION=1,s}(s);t.RotateTimeline=o;var h=function(i){function s(e){var n=i.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*s.ENTRIES),n}return a(s,i),s.prototype.getPropertyId=function(){return(n.translate<<24)+this.boneIndex},s.prototype.setFrame=function(t,e,i,n){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.X]=i,this.frames[t+s.Y]=n},s.prototype.apply=function(t,i,n,a,o,h,l){var c=this.frames,u=t.bones[this.boneIndex];if(n<c[0])switch(h){case e.setup:return u.x=u.data.x,void(u.y=u.data.y);case e.current:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}else{var p=0,f=0;if(n>=c[c.length-s.ENTRIES])p=c[c.length+s.PREV_X],f=c[c.length+s.PREV_Y];else{var d=r.binarySearch(c,n,s.ENTRIES);p=c[d+s.PREV_X],f=c[d+s.PREV_Y];var m=c[d],g=this.getCurvePercent(d/s.ENTRIES-1,1-(n-m)/(c[d+s.PREV_TIME]-m));p+=(c[d+s.X]-p)*g,f+=(c[d+s.Y]-f)*g}h==e.setup?(u.x=u.data.x+p*o,u.y=u.data.y+f*o):(u.x+=(u.data.x+p-u.x)*o,u.y+=(u.data.y+f-u.y)*o)}},s.ENTRIES=3,s.PREV_TIME=-3,s.PREV_X=-2,s.PREV_Y=-1,s.X=1,s.Y=2,s}(s);t.TranslateTimeline=h;var l=function(s){function o(t){return s.call(this,t)||this}return a(o,s),o.prototype.getPropertyId=function(){return(n.scale<<24)+this.boneIndex},o.prototype.apply=function(n,a,s,h,l,c,u){var p=this.frames,f=n.bones[this.boneIndex];if(s<p[0])switch(c){case e.setup:return f.scaleX=f.data.scaleX,void(f.scaleY=f.data.scaleY);case e.current:f.scaleX+=(f.data.scaleX-f.scaleX)*l,f.scaleY+=(f.data.scaleY-f.scaleY)*l}else{var d=0,m=0;if(s>=p[p.length-o.ENTRIES])d=p[p.length+o.PREV_X]*f.data.scaleX,m=p[p.length+o.PREV_Y]*f.data.scaleY;else{var g=r.binarySearch(p,s,o.ENTRIES);d=p[g+o.PREV_X],m=p[g+o.PREV_Y];var v=p[g],y=this.getCurvePercent(g/o.ENTRIES-1,1-(s-v)/(p[g+o.PREV_TIME]-v));d=(d+(p[g+o.X]-d)*y)*f.data.scaleX,m=(m+(p[g+o.Y]-m)*y)*f.data.scaleY}if(1==l)f.scaleX=d,f.scaleY=m;else{var x=0,w=0;c==e.setup?(x=f.data.scaleX,w=f.data.scaleY):(x=f.scaleX,w=f.scaleY),u==i.out?(d=Math.abs(d)*t.MathUtils.signum(x),m=Math.abs(m)*t.MathUtils.signum(w)):(x=Math.abs(x)*t.MathUtils.signum(d),w=Math.abs(w)*t.MathUtils.signum(m)),f.scaleX=x+(d-x)*l,f.scaleY=w+(m-w)*l}}},o}(h);t.ScaleTimeline=l;var c=function(t){function i(e){return t.call(this,e)||this}return a(i,t),i.prototype.getPropertyId=function(){return(n.shear<<24)+this.boneIndex},i.prototype.apply=function(t,n,a,s,o,h,l){var c=this.frames,u=t.bones[this.boneIndex];if(a<c[0])switch(h){case e.setup:return u.shearX=u.data.shearX,void(u.shearY=u.data.shearY);case e.current:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}else{var p=0,f=0;if(a>=c[c.length-i.ENTRIES])p=c[c.length+i.PREV_X],f=c[c.length+i.PREV_Y];else{var d=r.binarySearch(c,a,i.ENTRIES);p=c[d+i.PREV_X],f=c[d+i.PREV_Y];var m=c[d],g=this.getCurvePercent(d/i.ENTRIES-1,1-(a-m)/(c[d+i.PREV_TIME]-m));p+=(c[d+i.X]-p)*g,f+=(c[d+i.Y]-f)*g}h==e.setup?(u.shearX=u.data.shearX+p*o,u.shearY=u.data.shearY+f*o):(u.shearX+=(u.data.shearX+p-u.shearX)*o,u.shearY+=(u.data.shearY+f-u.shearY)*o)}},i}(h);t.ShearTimeline=c;var u=function(i){function s(e){var n=i.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*s.ENTRIES),n}return a(s,i),s.prototype.getPropertyId=function(){return(n.color<<24)+this.slotIndex},s.prototype.setFrame=function(t,e,i,n,r,a){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.R]=i,this.frames[t+s.G]=n,this.frames[t+s.B]=r,this.frames[t+s.A]=a},s.prototype.apply=function(t,i,n,a,o,h,l){var c=t.slots[this.slotIndex],u=this.frames;if(n<u[0])switch(h){case e.setup:return void c.color.setFromColor(c.data.color);case e.current:var p=c.color,f=c.data.color;p.add((f.r-p.r)*o,(f.g-p.g)*o,(f.b-p.b)*o,(f.a-p.a)*o)}else{var d=0,m=0,g=0,v=0;if(n>=u[u.length-s.ENTRIES]){var y=u.length;d=u[y+s.PREV_R],m=u[y+s.PREV_G],g=u[y+s.PREV_B],v=u[y+s.PREV_A]}else{var x=r.binarySearch(u,n,s.ENTRIES);d=u[x+s.PREV_R],m=u[x+s.PREV_G],g=u[x+s.PREV_B],v=u[x+s.PREV_A];var w=u[x],T=this.getCurvePercent(x/s.ENTRIES-1,1-(n-w)/(u[x+s.PREV_TIME]-w));d+=(u[x+s.R]-d)*T,m+=(u[x+s.G]-m)*T,g+=(u[x+s.B]-g)*T,v+=(u[x+s.A]-v)*T}if(1==o)c.color.set(d,m,g,v);else{p=c.color;h==e.setup&&p.setFromColor(c.data.color),p.add((d-p.r)*o,(m-p.g)*o,(g-p.b)*o,(v-p.a)*o)}}},s.ENTRIES=5,s.PREV_TIME=-5,s.PREV_R=-4,s.PREV_G=-3,s.PREV_B=-2,s.PREV_A=-1,s.R=1,s.G=2,s.B=3,s.A=4,s}(s);t.ColorTimeline=u;var p=function(i){function s(e){var n=i.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*s.ENTRIES),n}return a(s,i),s.prototype.getPropertyId=function(){return(n.twoColor<<24)+this.slotIndex},s.prototype.setFrame=function(t,e,i,n,r,a,o,h,l){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.R]=i,this.frames[t+s.G]=n,this.frames[t+s.B]=r,this.frames[t+s.A]=a,this.frames[t+s.R2]=o,this.frames[t+s.G2]=h,this.frames[t+s.B2]=l},s.prototype.apply=function(t,i,n,a,o,h,l){var c=t.slots[this.slotIndex],u=this.frames;if(n<u[0])switch(h){case e.setup:return c.color.setFromColor(c.data.color),void c.darkColor.setFromColor(c.data.darkColor);case e.current:var p=c.color,f=c.darkColor,d=c.data.color,m=c.data.darkColor;p.add((d.r-p.r)*o,(d.g-p.g)*o,(d.b-p.b)*o,(d.a-p.a)*o),f.add((m.r-f.r)*o,(m.g-f.g)*o,(m.b-f.b)*o,0)}else{var g=0,v=0,y=0,x=0,w=0,T=0,E=0;if(n>=u[u.length-s.ENTRIES]){var b=u.length;g=u[b+s.PREV_R],v=u[b+s.PREV_G],y=u[b+s.PREV_B],x=u[b+s.PREV_A],w=u[b+s.PREV_R2],T=u[b+s.PREV_G2],E=u[b+s.PREV_B2]}else{var M=r.binarySearch(u,n,s.ENTRIES);g=u[M+s.PREV_R],v=u[M+s.PREV_G],y=u[M+s.PREV_B],x=u[M+s.PREV_A],w=u[M+s.PREV_R2],T=u[M+s.PREV_G2],E=u[M+s.PREV_B2];var S=u[M],P=this.getCurvePercent(M/s.ENTRIES-1,1-(n-S)/(u[M+s.PREV_TIME]-S));g+=(u[M+s.R]-g)*P,v+=(u[M+s.G]-v)*P,y+=(u[M+s.B]-y)*P,x+=(u[M+s.A]-x)*P,w+=(u[M+s.R2]-w)*P,T+=(u[M+s.G2]-T)*P,E+=(u[M+s.B2]-E)*P}if(1==o)c.color.set(g,v,y,x),c.darkColor.set(w,T,E,1);else{p=c.color,f=c.darkColor;h==e.setup&&(p.setFromColor(c.data.color),f.setFromColor(c.data.darkColor)),p.add((g-p.r)*o,(v-p.g)*o,(y-p.b)*o,(x-p.a)*o),f.add((w-f.r)*o,(T-f.g)*o,(E-f.b)*o,0)}}},s.ENTRIES=8,s.PREV_TIME=-8,s.PREV_R=-7,s.PREV_G=-6,s.PREV_B=-5,s.PREV_A=-4,s.PREV_R2=-3,s.PREV_G2=-2,s.PREV_B2=-1,s.R=1,s.G=2,s.B=3,s.A=4,s.R2=5,s.G2=6,s.B2=7,s}(s);t.TwoColorTimeline=p;var f=function(){function a(e){this.frames=t.Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return a.prototype.getPropertyId=function(){return(n.attachment<<24)+this.slotIndex},a.prototype.getFrameCount=function(){return this.frames.length},a.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i},a.prototype.apply=function(t,n,a,s,o,h,l){var c=t.slots[this.slotIndex];if(l!=i.out||h!=e.setup){var u=this.frames;if(a<u[0]){if(h==e.setup){var p=c.data.attachmentName;c.setAttachment(null==p?null:t.getAttachment(this.slotIndex,p))}}else{var f=0;f=a>=u[u.length-1]?u.length-1:r.binarySearch(u,a,1)-1;var d=this.attachmentNames[f];t.slots[this.slotIndex].setAttachment(null==d?null:t.getAttachment(this.slotIndex,d))}}else{var m=c.data.attachmentName;c.setAttachment(null==m?null:t.getAttachment(this.slotIndex,m))}},a}();t.AttachmentTimeline=f;var d=null,m=function(i){function s(e){var n=i.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e),n.frameVertices=new Array(e),null==d&&(d=t.Utils.newFloatArray(64)),n}return a(s,i),s.prototype.getPropertyId=function(){return(n.deform<<27)+ +this.attachment.id+this.slotIndex},s.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.frameVertices[t]=i},s.prototype.apply=function(i,n,a,s,o,h,l){var c=i.slots[this.slotIndex],u=c.getAttachment();if(u instanceof t.VertexAttachment&&u.applyDeform(this.attachment)){var p=c.attachmentVertices;0==p.length&&(o=1);var f=this.frameVertices,d=f[0].length,m=this.frames;if(a<m[0]){var g=u;switch(h){case e.setup:return void(p.length=0);case e.current:if(1==o){p.length=0;break}var v=t.Utils.setArraySize(p,d);if(null==g.bones)for(var y=g.vertices,x=0;x<d;x++)v[x]+=(y[x]-v[x])*o;else{o=1-o;for(x=0;x<d;x++)v[x]*=o}}}else{var w=t.Utils.setArraySize(p,d);if(a>=m[m.length-1]){var T=f[m.length-1];if(1==o)t.Utils.arrayCopy(T,0,w,0,d);else if(h==e.setup){if(null==(g=u).bones)for(y=g.vertices,x=0;x<d;x++){var E=y[x];w[x]=E+(T[x]-E)*o}else for(x=0;x<d;x++)w[x]=T[x]*o}else for(x=0;x<d;x++)w[x]+=(T[x]-w[x])*o}else{var b=r.binarySearch(m,a),M=f[b-1],S=f[b],P=m[b],A=this.getCurvePercent(b-1,1-(a-P)/(m[b-1]-P));if(1==o)for(x=0;x<d;x++){var I=M[x];w[x]=I+(S[x]-I)*A}else if(h==e.setup){if(null==(g=u).bones)for(y=g.vertices,x=0;x<d;x++){I=M[x],E=y[x];w[x]=E+(I+(S[x]-I)*A-E)*o}else for(x=0;x<d;x++){I=M[x];w[x]=(I+(S[x]-I)*A)*o}}else for(x=0;x<d;x++){I=M[x];w[x]+=(I+(S[x]-I)*A-w[x])*o}}}}},s}(s);t.DeformTimeline=m;var g=function(){function e(e){this.frames=t.Utils.newFloatArray(e),this.events=new Array(e)}return e.prototype.getPropertyId=function(){return n.event<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},e.prototype.apply=function(t,e,i,n,a,s,o){if(null!=n){var h=this.frames,l=this.frames.length;if(e>i)this.apply(t,e,Number.MAX_VALUE,n,a,s,o),e=-1;else if(e>=h[l-1])return;if(!(i<h[0])){var c=0;if(e<h[0])c=0;else for(var u=h[c=r.binarySearch(h,e)];c>0&&h[c-1]==u;)c--;for(;c<l&&i>=h[c];c++)n.push(this.events[c])}}},e}();t.EventTimeline=g;var v=function(){function a(e){this.frames=t.Utils.newFloatArray(e),this.drawOrders=new Array(e)}return a.prototype.getPropertyId=function(){return n.drawOrder<<24},a.prototype.getFrameCount=function(){return this.frames.length},a.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.drawOrders[t]=i},a.prototype.apply=function(n,a,s,o,h,l,c){var u=n.drawOrder,p=n.slots;if(c!=i.out||l!=e.setup){var f=this.frames;if(s<f[0])l==e.setup&&t.Utils.arrayCopy(n.slots,0,n.drawOrder,0,n.slots.length);else{var d=0;d=s>=f[f.length-1]?f.length-1:r.binarySearch(f,s)-1;var m=this.drawOrders[d];if(null==m)t.Utils.arrayCopy(p,0,u,0,p.length);else for(var g=0,v=m.length;g<v;g++)u[g]=p[m[g]]}}else t.Utils.arrayCopy(n.slots,0,n.drawOrder,0,n.slots.length)},a}();t.DrawOrderTimeline=v;var y=function(s){function o(e){var i=s.call(this,e)||this;return i.frames=t.Utils.newFloatArray(e*o.ENTRIES),i}return a(o,s),o.prototype.getPropertyId=function(){return(n.ikConstraint<<24)+this.ikConstraintIndex},o.prototype.setFrame=function(t,e,i,n){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.MIX]=i,this.frames[t+o.BEND_DIRECTION]=n},o.prototype.apply=function(t,n,a,s,h,l,c){var u=this.frames,p=t.ikConstraints[this.ikConstraintIndex];if(a<u[0])switch(l){case e.setup:return p.mix=p.data.mix,void(p.bendDirection=p.data.bendDirection);case e.current:p.mix+=(p.data.mix-p.mix)*h,p.bendDirection=p.data.bendDirection}else if(a>=u[u.length-o.ENTRIES])l==e.setup?(p.mix=p.data.mix+(u[u.length+o.PREV_MIX]-p.data.mix)*h,p.bendDirection=c==i.out?p.data.bendDirection:u[u.length+o.PREV_BEND_DIRECTION]):(p.mix+=(u[u.length+o.PREV_MIX]-p.mix)*h,c==i.in&&(p.bendDirection=u[u.length+o.PREV_BEND_DIRECTION]));else{var f=r.binarySearch(u,a,o.ENTRIES),d=u[f+o.PREV_MIX],m=u[f],g=this.getCurvePercent(f/o.ENTRIES-1,1-(a-m)/(u[f+o.PREV_TIME]-m));l==e.setup?(p.mix=p.data.mix+(d+(u[f+o.MIX]-d)*g-p.data.mix)*h,p.bendDirection=c==i.out?p.data.bendDirection:u[f+o.PREV_BEND_DIRECTION]):(p.mix+=(d+(u[f+o.MIX]-d)*g-p.mix)*h,c==i.in&&(p.bendDirection=u[f+o.PREV_BEND_DIRECTION]))}},o.ENTRIES=3,o.PREV_TIME=-3,o.PREV_MIX=-2,o.PREV_BEND_DIRECTION=-1,o.MIX=1,o.BEND_DIRECTION=2,o}(s);t.IkConstraintTimeline=y;var x=function(i){function s(e){var n=i.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*s.ENTRIES),n}return a(s,i),s.prototype.getPropertyId=function(){return(n.transformConstraint<<24)+this.transformConstraintIndex},s.prototype.setFrame=function(t,e,i,n,r,a){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.ROTATE]=i,this.frames[t+s.TRANSLATE]=n,this.frames[t+s.SCALE]=r,this.frames[t+s.SHEAR]=a},s.prototype.apply=function(t,i,n,a,o,h,l){var c=this.frames,u=t.transformConstraints[this.transformConstraintIndex];if(n<c[0]){var p=u.data;switch(h){case e.setup:return u.rotateMix=p.rotateMix,u.translateMix=p.translateMix,u.scaleMix=p.scaleMix,void(u.shearMix=p.shearMix);case e.current:u.rotateMix+=(p.rotateMix-u.rotateMix)*o,u.translateMix+=(p.translateMix-u.translateMix)*o,u.scaleMix+=(p.scaleMix-u.scaleMix)*o,u.shearMix+=(p.shearMix-u.shearMix)*o}}else{var f=0,d=0,m=0,g=0;if(n>=c[c.length-s.ENTRIES]){var v=c.length;f=c[v+s.PREV_ROTATE],d=c[v+s.PREV_TRANSLATE],m=c[v+s.PREV_SCALE],g=c[v+s.PREV_SHEAR]}else{var y=r.binarySearch(c,n,s.ENTRIES);f=c[y+s.PREV_ROTATE],d=c[y+s.PREV_TRANSLATE],m=c[y+s.PREV_SCALE],g=c[y+s.PREV_SHEAR];var x=c[y],w=this.getCurvePercent(y/s.ENTRIES-1,1-(n-x)/(c[y+s.PREV_TIME]-x));f+=(c[y+s.ROTATE]-f)*w,d+=(c[y+s.TRANSLATE]-d)*w,m+=(c[y+s.SCALE]-m)*w,g+=(c[y+s.SHEAR]-g)*w}if(h==e.setup){p=u.data;u.rotateMix=p.rotateMix+(f-p.rotateMix)*o,u.translateMix=p.translateMix+(d-p.translateMix)*o,u.scaleMix=p.scaleMix+(m-p.scaleMix)*o,u.shearMix=p.shearMix+(g-p.shearMix)*o}else u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(d-u.translateMix)*o,u.scaleMix+=(m-u.scaleMix)*o,u.shearMix+=(g-u.shearMix)*o}},s.ENTRIES=5,s.PREV_TIME=-5,s.PREV_ROTATE=-4,s.PREV_TRANSLATE=-3,s.PREV_SCALE=-2,s.PREV_SHEAR=-1,s.ROTATE=1,s.TRANSLATE=2,s.SCALE=3,s.SHEAR=4,s}(s);t.TransformConstraintTimeline=x;var w=function(i){function s(e){var n=i.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*s.ENTRIES),n}return a(s,i),s.prototype.getPropertyId=function(){return(n.pathConstraintPosition<<24)+this.pathConstraintIndex},s.prototype.setFrame=function(t,e,i){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.VALUE]=i},s.prototype.apply=function(t,i,n,a,o,h,l){var c=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(n<c[0])switch(h){case e.setup:return void(u.position=u.data.position);case e.current:u.position+=(u.data.position-u.position)*o}else{var p=0;if(n>=c[c.length-s.ENTRIES])p=c[c.length+s.PREV_VALUE];else{var f=r.binarySearch(c,n,s.ENTRIES);p=c[f+s.PREV_VALUE];var d=c[f],m=this.getCurvePercent(f/s.ENTRIES-1,1-(n-d)/(c[f+s.PREV_TIME]-d));p+=(c[f+s.VALUE]-p)*m}h==e.setup?u.position=u.data.position+(p-u.data.position)*o:u.position+=(p-u.position)*o}},s.ENTRIES=2,s.PREV_TIME=-2,s.PREV_VALUE=-1,s.VALUE=1,s}(s);t.PathConstraintPositionTimeline=w;var T=function(t){function i(e){return t.call(this,e)||this}return a(i,t),i.prototype.getPropertyId=function(){return(n.pathConstraintSpacing<<24)+this.pathConstraintIndex},i.prototype.apply=function(t,n,a,s,o,h,l){var c=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(a<c[0])switch(h){case e.setup:return void(u.spacing=u.data.spacing);case e.current:u.spacing+=(u.data.spacing-u.spacing)*o}else{var p=0;if(a>=c[c.length-i.ENTRIES])p=c[c.length+i.PREV_VALUE];else{var f=r.binarySearch(c,a,i.ENTRIES);p=c[f+i.PREV_VALUE];var d=c[f],m=this.getCurvePercent(f/i.ENTRIES-1,1-(a-d)/(c[f+i.PREV_TIME]-d));p+=(c[f+i.VALUE]-p)*m}h==e.setup?u.spacing=u.data.spacing+(p-u.data.spacing)*o:u.spacing+=(p-u.spacing)*o}},i}(w);t.PathConstraintSpacingTimeline=T;var E=function(i){function s(e){var n=i.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*s.ENTRIES),n}return a(s,i),s.prototype.getPropertyId=function(){return(n.pathConstraintMix<<24)+this.pathConstraintIndex},s.prototype.setFrame=function(t,e,i,n){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.ROTATE]=i,this.frames[t+s.TRANSLATE]=n},s.prototype.apply=function(t,i,n,a,o,h,l){var c=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(n<c[0])switch(h){case e.setup:return u.rotateMix=u.data.rotateMix,void(u.translateMix=u.data.translateMix);case e.current:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}else{var p=0,f=0;if(n>=c[c.length-s.ENTRIES])p=c[c.length+s.PREV_ROTATE],f=c[c.length+s.PREV_TRANSLATE];else{var d=r.binarySearch(c,n,s.ENTRIES);p=c[d+s.PREV_ROTATE],f=c[d+s.PREV_TRANSLATE];var m=c[d],g=this.getCurvePercent(d/s.ENTRIES-1,1-(n-m)/(c[d+s.PREV_TIME]-m));p+=(c[d+s.ROTATE]-p)*g,f+=(c[d+s.TRANSLATE]-f)*g}h==e.setup?(u.rotateMix=u.data.rotateMix+(p-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(f-u.data.translateMix)*o):(u.rotateMix+=(p-u.rotateMix)*o,u.translateMix+=(f-u.translateMix)*o)}},s.ENTRIES=3,s.PREV_TIME=-3,s.PREV_ROTATE=-2,s.PREV_TRANSLATE=-1,s.ROTATE=1,s.TRANSLATE=2,s}(s);t.PathConstraintMixTimeline=E}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new r(this),this.propertyIDs=new t.IntSet,this.mixingTo=new Array,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new t.Pool(function(){return new i}),this.data=e}return e.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,i=0,n=e.length;i<n;i++){var r=e[i];if(null!=r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var a=t*r.timeScale;if(r.delay>0){if(r.delay-=a,r.delay>0)continue;a=-r.delay,r.delay=0}var s=r.next;if(null!=s){var o=r.trackLast-s.delay;if(o>=0){for(s.delay=0,s.trackTime=o+t*s.timeScale,r.trackTime+=a,this.setCurrent(i,s,!0);null!=s.mixingFrom;)s.mixTime+=a,s=s.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&null==r.mixingFrom){e[i]=null,this.queue.end(r),this.disposeNext(r);continue}if(null!=r.mixingFrom&&this.updateMixingFrom(r,t)){var h=r.mixingFrom;for(r.mixingFrom=null;null!=h;)this.queue.end(h),h=h.mixingFrom}r.trackTime+=a}}this.queue.drain()},e.prototype.updateMixingFrom=function(t,e){var i=t.mixingFrom;if(null==i)return!0;var n=this.updateMixingFrom(i,e);return t.mixTime>0&&(t.mixTime>=t.mixDuration||0==t.timeScale)?(0==i.totalAlpha&&(t.mixingFrom=i.mixingFrom,t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),n):(i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,i.trackTime+=e*i.timeScale,t.mixTime+=e*t.timeScale,!1)},e.prototype.apply=function(i){if(null==i)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,r=this.tracks,a=!1,s=0,o=r.length;s<o;s++){var h=r[s];if(!(null==h||h.delay>0)){a=!0;var l=0==s?t.MixPose.current:t.MixPose.currentLayered,c=h.alpha;null!=h.mixingFrom?c*=this.applyMixingFrom(h,i,l):h.trackTime>=h.trackEnd&&null==h.next&&(c=0);var u=h.animationLast,p=h.getAnimationTime(),f=h.animation.timelines.length,d=h.animation.timelines;if(1==c)for(var m=0;m<f;m++)d[m].apply(i,u,p,n,1,t.MixPose.setup,t.MixDirection.in);else{var g=h.timelineData,v=0==h.timelinesRotation.length;v&&t.Utils.setArraySize(h.timelinesRotation,f<<1,null);var y=h.timelinesRotation;for(m=0;m<f;m++){var x=d[m],w=g[m]>=e.FIRST?t.MixPose.setup:l;x instanceof t.RotateTimeline?this.applyRotateTimeline(x,i,p,c,w,y,m<<1,v):(t.Utils.webkit602BugfixHelper(c,w),x.apply(i,u,p,n,c,w,t.MixDirection.in))}}this.queueEvents(h,p),n.length=0,h.nextAnimationLast=p,h.nextTrackLast=h.trackTime}}return this.queue.drain(),a},e.prototype.applyMixingFrom=function(i,n,r){var a=i.mixingFrom;null!=a.mixingFrom&&this.applyMixingFrom(a,n,r);var s=0;0==i.mixDuration?(s=1,r=t.MixPose.setup):(s=i.mixTime/i.mixDuration)>1&&(s=1);var o=s<a.eventThreshold?this.events:null,h=s<a.attachmentThreshold,l=s<a.drawOrderThreshold,c=a.animationLast,u=a.getAnimationTime(),p=a.animation.timelines.length,f=a.animation.timelines,d=a.timelineData,m=a.timelineDipMix,g=0==a.timelinesRotation.length;g&&t.Utils.setArraySize(a.timelinesRotation,p<<1,null);var v,y=a.timelinesRotation,x=a.alpha*i.interruptAlpha,w=x*(1-s),T=0;a.totalAlpha=0;for(var E=0;E<p;E++){var b=f[E];switch(d[E]){case e.SUBSEQUENT:if(!h&&b instanceof t.AttachmentTimeline)continue;if(!l&&b instanceof t.DrawOrderTimeline)continue;v=r,T=w;break;case e.FIRST:v=t.MixPose.setup,T=w;break;case e.DIP:v=t.MixPose.setup,T=x;break;default:v=t.MixPose.setup,T=x;var M=m[E];T*=Math.max(0,1-M.mixTime/M.mixDuration)}a.totalAlpha+=T,b instanceof t.RotateTimeline?this.applyRotateTimeline(b,n,u,T,v,y,E<<1,g):b.apply(n,c,u,o,T,v,t.MixDirection.out)}return i.mixDuration>0&&this.queueEvents(a,u),this.events.length=0,a.nextAnimationLast=u,a.nextTrackLast=a.trackTime,s},e.prototype.applyRotateTimeline=function(e,i,n,r,a,s,o,h){if(h&&(s[o]=0),1!=r){var l=e,c=l.frames,u=i.bones[l.boneIndex];if(n<c[0])a==t.MixPose.setup&&(u.rotation=u.data.rotation);else{var p=0;if(n>=c[c.length-t.RotateTimeline.ENTRIES])p=u.data.rotation+c[c.length+t.RotateTimeline.PREV_ROTATION];else{var f=t.Animation.binarySearch(c,n,t.RotateTimeline.ENTRIES),d=c[f+t.RotateTimeline.PREV_ROTATION],m=c[f],g=l.getCurvePercent((f>>1)-1,1-(n-m)/(c[f+t.RotateTimeline.PREV_TIME]-m));p=c[f+t.RotateTimeline.ROTATION]-d,p=d+(p-=360*(16384-(16384.499999999996-p/360|0)))*g+u.data.rotation,p-=360*(16384-(16384.499999999996-p/360|0))}var v=a==t.MixPose.setup?u.data.rotation:u.rotation,y=0,x=p-v;if(0==x)y=s[o];else{x-=360*(16384-(16384.499999999996-x/360|0));var w=0,T=0;h?(w=0,T=x):(w=s[o],T=s[o+1]);var E=x>0,b=w>=0;t.MathUtils.signum(T)!=t.MathUtils.signum(x)&&Math.abs(T)<=90&&(Math.abs(w)>180&&(w+=360*t.MathUtils.signum(w)),b=E),y=x+w-w%360,b!=E&&(y+=360*t.MathUtils.signum(w)),s[o]=y}s[o+1]=x,v+=y*r,u.rotation=v-360*(16384-(16384.499999999996-v/360|0))}}else e.apply(i,0,n,null,1,a,t.MixDirection.in)},e.prototype.queueEvents=function(t,e){for(var i=t.animationStart,n=t.animationEnd,r=n-i,a=t.trackLast%r,s=this.events,o=0,h=s.length;o<h;o++){var l=s[o];if(l.time<a)break;l.time>n||this.queue.event(t,l)}for((t.loop?a>t.trackTime%r:e>=n&&t.animationLast<n)&&this.queue.complete(t);o<h;o++){s[o].time<i||this.queue.event(t,s[o])}},e.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,i=this.tracks.length;e<i;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},e.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var i=e;;){var n=i.mixingFrom;if(null==n)break;this.queue.end(n),i.mixingFrom=null,i=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},e.prototype.setCurrent=function(t,e,i){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(i&&this.queue.interrupt(n),e.mixingFrom=n,e.mixTime=0,null!=n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},e.prototype.setAnimation=function(t,e,i){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,i)},e.prototype.setAnimationWith=function(t,e,i){if(null==e)throw new Error("animation cannot be null.");var n=!0,r=this.expandToIndex(t);null!=r&&(-1==r.nextTrackLast?(this.tracks[t]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.disposeNext(r),r=r.mixingFrom,n=!1):this.disposeNext(r));var a=this.trackEntry(t,e,i,r);return this.setCurrent(t,a,n),this.queue.drain(),a},e.prototype.addAnimation=function(t,e,i,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,r,i,n)},e.prototype.addAnimationWith=function(t,e,i,n){if(null==e)throw new Error("animation cannot be null.");var r=this.expandToIndex(t);if(null!=r)for(;null!=r.next;)r=r.next;var a=this.trackEntry(t,e,i,r);if(null==r)this.setCurrent(t,a,!0),this.queue.drain();else if(r.next=a,n<=0){var s=r.animationEnd-r.animationStart;0!=s?(r.loop?n+=s*(1+(r.trackTime/s|0)):n+=s,n-=this.data.getMix(r.animation,e)):n=0}return a.delay=n,a},e.prototype.setEmptyAnimation=function(t,i){var n=this.setAnimationWith(t,e.emptyAnimation,!1);return n.mixDuration=i,n.trackEnd=i,n},e.prototype.addEmptyAnimation=function(t,i,n){n<=0&&(n-=i);var r=this.addAnimationWith(t,e.emptyAnimation,!1,n);return r.mixDuration=i,r.trackEnd=i,r},e.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var i=0,n=this.tracks.length;i<n;i++){var r=this.tracks[i];null!=r&&this.setEmptyAnimation(r.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},e.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(t.Utils.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},e.prototype.trackEntry=function(t,e,i,n){var r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=i,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=null==n?0:this.data.getMix(n.animation,e),r},e.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},e.prototype._animationsChanged=function(){this.animationsChanged=!1;var t=this.propertyIDs;t.clear();for(var e=this.mixingTo,i=0,n=this.tracks.length;i<n;i++){var r=this.tracks[i];null!=r&&r.setTimelineData(null,e,t)}},e.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},e.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},e.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},e.prototype.clearListeners=function(){this.listeners.length=0},e.prototype.clearListenerNotifications=function(){this.queue.clear()},e.prototype.setAnimationByName=function(t,i,n){e.deprecatedWarning1||(e.deprecatedWarning1=!0),this.setAnimation(t,i,n)},e.prototype.addAnimationByName=function(t,i,n,r){e.deprecatedWarning2||(e.deprecatedWarning2=!0),this.addAnimation(t,i,n,r)},e.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},e.prototype.hasAnimationByName=function(t){return e.deprecatedWarning3||(e.deprecatedWarning3=!0),this.hasAnimation(t)},e.emptyAnimation=new t.Animation("<empty>",[],0),e.SUBSEQUENT=0,e.FIRST=1,e.DIP=2,e.DIP_MIX=3,e.deprecatedWarning1=!1,e.deprecatedWarning2=!1,e.deprecatedWarning3=!1,e}();t.AnimationState=e;var i=function(){function i(){this.timelineData=new Array,this.timelineDipMix=new Array,this.timelinesRotation=new Array}return i.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelineData.length=0,this.timelineDipMix.length=0,this.timelinesRotation.length=0},i.prototype.setTimelineData=function(i,n,r){null!=i&&n.push(i);var a=null!=this.mixingFrom?this.mixingFrom.setTimelineData(this,n,r):this;null!=i&&n.pop();var s=n,o=n.length-1,h=this.animation.timelines,l=this.animation.timelines.length,c=t.Utils.setArraySize(this.timelineData,l);this.timelineDipMix.length=0;var u=t.Utils.setArraySize(this.timelineDipMix,l);t:for(var p=0;p<l;p++){var f=h[p].getPropertyId();if(r.add(f))if(null!=i&&i.hasTimeline(f)){for(var d=o;d>=0;d--){var m=s[d];if(!m.hasTimeline(f)&&m.mixDuration>0){c[p]=e.DIP_MIX,u[p]=m;continue t}}c[p]=e.DIP}else c[p]=e.FIRST;else c[p]=e.SUBSEQUENT}return a},i.prototype.hasTimeline=function(t){for(var e=this.animation.timelines,i=0,n=e.length;i<n;i++)if(e[i].getPropertyId()==t)return!0;return!1},i.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},i.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},i.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},i.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(i.prototype,"time",{get:function(){return i.deprecatedWarning1||(i.deprecatedWarning1=!0),this.trackTime},set:function(t){i.deprecatedWarning1||(i.deprecatedWarning1=!0),this.trackTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endTime",{get:function(){return i.deprecatedWarning2||(i.deprecatedWarning2=!0),this.trackTime},set:function(t){i.deprecatedWarning2||(i.deprecatedWarning2=!0),this.trackTime=t},enumerable:!0,configurable:!0}),i.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},i.deprecatedWarning1=!1,i.deprecatedWarning2=!1,i}();t.TrackEntry=i;var n,r=function(){function e(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return e.prototype.start=function(t){this.objects.push(n.start),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.interrupt=function(t){this.objects.push(n.interrupt),this.objects.push(t)},e.prototype.end=function(t){this.objects.push(n.end),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.dispose=function(t){this.objects.push(n.dispose),this.objects.push(t)},e.prototype.complete=function(t){this.objects.push(n.complete),this.objects.push(t)},e.prototype.event=function(t,e){this.objects.push(n.event),this.objects.push(t),this.objects.push(e)},e.prototype.deprecateStuff=function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0),!0},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,i=this.animState.listeners,r=0;r<e.length;r+=2){var a=e[r],s=e[r+1];switch(a){case n.start:null!=s.listener&&s.listener.start&&s.listener.start(s);for(var o=0;o<i.length;o++)i[o].start&&i[o].start(s);s.onStart&&this.deprecateStuff()&&s.onStart(s.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(s.trackIndex);break;case n.interrupt:null!=s.listener&&s.listener.interrupt&&s.listener.interrupt(s);for(o=0;o<i.length;o++)i[o].interrupt&&i[o].interrupt(s);break;case n.end:null!=s.listener&&s.listener.end&&s.listener.end(s);for(o=0;o<i.length;o++)i[o].end&&i[o].end(s);s.onEnd&&this.deprecateStuff()&&s.onEnd(s.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(s.trackIndex);case n.dispose:null!=s.listener&&s.listener.dispose&&s.listener.dispose(s);for(o=0;o<i.length;o++)i[o].dispose&&i[o].dispose(s);this.animState.trackEntryPool.free(s);break;case n.complete:null!=s.listener&&s.listener.complete&&s.listener.complete(s);for(o=0;o<i.length;o++)i[o].complete&&i[o].complete(s);var h=t.MathUtils.toInt(s.loopsCount());s.onComplete&&this.deprecateStuff()&&s.onComplete(s.trackIndex,h),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(s.trackIndex,h);break;case n.event:var l=e[2+r++];null!=s.listener&&s.listener.event&&s.listener.event(s,l);for(o=0;o<i.length;o++)i[o].event&&i[o].event(s,l);s.onEvent&&this.deprecateStuff()&&s.onEvent(s.trackIndex,l),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(s.trackIndex,l)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e.deprecatedWarning1=!1,e}();t.EventQueue=r,function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(n=t.EventType||(t.EventType={}));var a=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}();t.AnimationStateAdapter2=a}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,i){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);this.setMixWith(n,r,i)},t.prototype.setMixByName=function(e,i,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.setMix(e,i,n)},t.prototype.setMixWith=function(t,e,i){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+"."+e.name;this.animationToMixTime[n]=i},t.prototype.getMix=function(t,e){var i=t.name+"."+e.name,n=this.animationToMixTime[i];return void 0===n?this.defaultMix:n},t.deprecatedWarning1=!1,t}();t.AnimationStateData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t){this.atlas=t}return e.prototype.newRegionAttachment=function(e,i,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (region attachment: "+i+")");var a=new t.RegionAttachment(i);return a.region=r,a},e.prototype.newMeshAttachment=function(e,i,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+i+")");var a=new t.MeshAttachment(i);return a.region=r,a},e.prototype.newBoundingBoxAttachment=function(e,i){return new t.BoundingBoxAttachment(i)},e.prototype.newPathAttachment=function(e,i){return new t.PathAttachment(i)},e.prototype.newPointAttachment=function(e,i){return new t.PointAttachment(i)},e.prototype.newClippingAttachment=function(e,i){return new t.ClippingAttachment(i)},e}();t.AtlasAttachmentLoader=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(t.BlendMode||(t.BlendMode={}))}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t,e,i){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}return Object.defineProperty(e.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(i,n,r,a,s,o,h){this.ax=i,this.ay=n,this.arotation=r,this.ascaleX=a,this.ascaleY=s,this.ashearX=o,this.ashearY=h,this.appliedValid=!0;var l=this.parent,c=this.matrix;if(null==l){var u=r+90+h,p=t.MathUtils.cosDeg(r+o)*a,f=t.MathUtils.cosDeg(u)*s,d=t.MathUtils.sinDeg(r+o)*a,m=t.MathUtils.sinDeg(u)*s,g=this.skeleton;return g.flipX&&(i=-i,p=-p,f=-f),g.flipY!==e.yDown&&(n=-n,d=-d,m=-m),c.a=p,c.c=f,c.b=d,c.d=m,c.tx=i+g.x,void(c.ty=n+g.y)}var v=l.matrix.a,y=l.matrix.c,x=l.matrix.b,w=l.matrix.d;switch(c.tx=v*i+y*n+l.matrix.tx,c.ty=x*i+w*n+l.matrix.ty,this.data.transformMode){case t.TransformMode.Normal:u=r+90+h,p=t.MathUtils.cosDeg(r+o)*a,f=t.MathUtils.cosDeg(u)*s,d=t.MathUtils.sinDeg(r+o)*a,m=t.MathUtils.sinDeg(u)*s;return c.a=v*p+y*d,c.c=v*f+y*m,c.b=x*p+w*d,void(c.d=x*f+w*m);case t.TransformMode.OnlyTranslation:u=r+90+h;c.a=t.MathUtils.cosDeg(r+o)*a,c.c=t.MathUtils.cosDeg(u)*s,c.b=t.MathUtils.sinDeg(r+o)*a,c.d=t.MathUtils.sinDeg(u)*s;break;case t.TransformMode.NoRotationOrReflection:var T=0;(M=v*v+x*x)>1e-4?(y=x*(M=Math.abs(v*w-y*x)/M),w=v*M,T=Math.atan2(x,v)*t.MathUtils.radDeg):(v=0,x=0,T=90-Math.atan2(w,y)*t.MathUtils.radDeg);var E=r+o-T,b=r+h-T+90;p=t.MathUtils.cosDeg(E)*a,f=t.MathUtils.cosDeg(b)*s,d=t.MathUtils.sinDeg(E)*a,m=t.MathUtils.sinDeg(b)*s;c.a=v*p-y*d,c.c=v*f-y*m,c.b=x*p+w*d,c.d=x*f+w*m;break;case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:var M,S=t.MathUtils.cosDeg(r),P=t.MathUtils.sinDeg(r),A=v*S+y*P,I=x*S+w*P;(M=Math.sqrt(A*A+I*I))>1e-5&&(M=1/M),A*=M,I*=M,M=Math.sqrt(A*A+I*I);var R=Math.PI/2+Math.atan2(I,A),C=Math.cos(R)*M,k=Math.sin(R)*M;p=t.MathUtils.cosDeg(o)*a,f=t.MathUtils.cosDeg(90+h)*s,d=t.MathUtils.sinDeg(o)*a,m=t.MathUtils.sinDeg(90+h)*s;return c.a=A*p+C*d,c.c=A*f+C*m,c.b=I*p+k*d,c.d=I*f+k*m,void((this.data.transformMode!=t.TransformMode.NoScaleOrReflection?v*w-y*x<0:this.skeleton.flipX!=this.skeleton.flipY!=e.yDown)&&(c.c=-c.c,c.d=-c.d))}this.skeleton.flipX&&(c.a=-c.a,c.c=-c.c),this.skeleton.flipY!=e.yDown&&(c.b=-c.b,c.d=-c.d)},e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*t.MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*t.MathUtils.radDeg},e.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},e.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,i=this.matrix;if(null==e)return this.ax=i.tx,this.ay=i.ty,this.arotation=Math.atan2(i.b,i.a)*t.MathUtils.radDeg,this.ascaleX=Math.sqrt(i.a*i.a+i.b*i.b),this.ascaleY=Math.sqrt(i.c*i.c+i.d*i.d),this.ashearX=0,void(this.ashearY=Math.atan2(i.a*i.c+i.b*i.d,i.a*i.d-i.b*i.c)*t.MathUtils.radDeg);var n=e.matrix,r=1/(n.a*n.d-n.b*n.c),a=i.tx-n.tx,s=i.ty-n.ty;this.ax=a*n.d*r-s*n.c*r,this.ay=s*n.a*r-a*n.b*r;var o=r*n.d,h=r*n.a,l=r*n.c,c=r*n.b,u=o*i.a-l*i.b,p=o*i.c-l*i.d,f=h*i.b-c*i.a,d=h*i.d-c*i.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(u*u+f*f),this.ascaleX>1e-4){var m=u*d-p*f;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(u*p+f*d,m)*t.MathUtils.radDeg,this.arotation=Math.atan2(f,u)*t.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(p*p+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,p)*t.MathUtils.radDeg},e.prototype.worldToLocal=function(t){var e=this.matrix,i=e.a,n=e.c,r=e.b,a=e.d,s=1/(i*a-n*r),o=t.x-e.tx,h=t.y-e.ty;return t.x=o*a*s-h*n*s,t.y=h*i*s-o*r*s,t},e.prototype.localToWorld=function(t){var e=this.matrix,i=t.x,n=t.y;return t.x=i*e.a+n*e.c+e.tx,t.y=i*e.b+n*e.d+e.ty,t},e.prototype.worldToLocalRotation=function(e){var i=t.MathUtils.sinDeg(e),n=t.MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(r.a*i-r.b*n,r.d*n-r.c*i)*t.MathUtils.radDeg},e.prototype.localToWorldRotation=function(e){var i=t.MathUtils.sinDeg(e),n=t.MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+i*r.d,n*r.a+i*r.c)*t.MathUtils.radDeg},e.prototype.rotateWorld=function(e){var i=this.matrix,n=i.a,r=i.c,a=i.b,s=i.d,o=t.MathUtils.cosDeg(e),h=t.MathUtils.sinDeg(e);i.a=o*n-h*a,i.c=o*r-h*s,i.b=h*n+o*a,i.d=h*r+o*s,this.appliedValid=!1},e.yDown=!1,e}();t.Bone=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e,i=function(){return function(t,i,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=e.Normal,t<0)throw new Error("index must be >= 0.");if(null==i)throw new Error("name cannot be null.");this.index=t,this.name=i,this.parent=n}}();t.BoneData=i,function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(e=t.TransformMode||(t.TransformMode={}))}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){return function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}}();t.Event=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){return function(t){this.name=t}}();t.EventData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t,e){if(this.mix=1,this.bendDirection=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}return e.prototype.getOrder=function(){return this.data.order},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},e.prototype.apply1=function(e,i,n,r){e.appliedValid||e.updateAppliedTransform();var a=e.parent.matrix,s=1/(a.a*a.d-a.b*a.c),o=i-a.tx,h=n-a.ty,l=(o*a.d-h*a.c)*s-e.ax,c=(h*a.a-o*a.b)*s-e.ay,u=Math.atan2(c,l)*t.MathUtils.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(u+=180),u>180?u-=360:u<-180&&(u+=360),e.updateWorldTransformWith(e.ax,e.ay,e.arotation+u*r,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,i,n,r,a,s){if(0!=s){e.appliedValid||e.updateAppliedTransform(),i.appliedValid||i.updateAppliedTransform();var o=e.ax,h=e.ay,l=e.ascaleX,c=e.ascaleY,u=i.ascaleX,p=e.matrix,f=0,d=0,m=0;l<0?(l=-l,f=180,m=-1):(f=0,m=1),c<0&&(c=-c,m=-m),u<0?(u=-u,d=180):d=0;var g=i.ax,v=0,y=0,x=0,w=p.a,T=p.c,E=p.b,b=p.d,M=Math.abs(l-c)<=1e-4;M?(y=w*g+T*(v=i.ay)+p.tx,x=E*g+b*v+p.ty):(v=0,y=w*g+p.tx,x=E*g+p.ty);var S=e.parent.matrix;w=S.a,T=S.c,E=S.b;var P=1/(w*(b=S.d)-T*E),A=n-S.tx,I=r-S.ty,R=(A*b-I*T)*P-o,C=(I*w-A*E)*P-h,k=((A=y-S.tx)*b-(I=x-S.ty)*T)*P-o,V=(I*w-A*E)*P-h,X=Math.sqrt(k*k+V*V),Y=i.data.length*u,N=0,_=0;t:if(M){var D=(R*R+C*C-X*X-(Y*=l)*Y)/(2*X*Y);D<-1?D=-1:D>1&&(D=1),_=Math.acos(D)*a,w=X+Y*D,T=Y*Math.sin(_),N=Math.atan2(C*w-R*T,R*w+C*T)}else{var U=(w=l*Y)*w,O=(T=c*Y)*T,F=R*R+C*C,L=Math.atan2(C,R),W=-2*O*X,B=O-U;if((b=W*W-4*B*(E=O*X*X+U*F-U*O))>=0){var z=Math.sqrt(b);W<0&&(z=-z);var H=(z=-(W+z)/2)/B,q=E/z,j=Math.abs(H)<Math.abs(q)?H:q;if(j*j<=F){I=Math.sqrt(F-j*j)*a,N=L-Math.atan2(I,j),_=Math.atan2(I/c,(j-X)/l);break t}}var G=t.MathUtils.PI,Z=X-w,K=Z*Z,J=0,$=0,Q=X+w,tt=Q*Q,et=0;(E=-w*X/(U-O))>=-1&&E<=1&&(E=Math.acos(E),(b=(A=w*Math.cos(E)+X)*A+(I=T*Math.sin(E))*I)<K&&(G=E,K=b,Z=A,J=I),b>tt&&($=E,tt=b,Q=A,et=I)),F<=(K+tt)/2?(N=L-Math.atan2(J*a,Z),_=G*a):(N=L-Math.atan2(et*a,Q),_=$*a)}var it=Math.atan2(v,g)*m,nt=e.arotation;(N=(N-it)*t.MathUtils.radDeg+f-nt)>180?N-=360:N<-180&&(N+=360),e.updateWorldTransformWith(o,h,nt+N*s,e.ascaleX,e.ascaleY,0,0),nt=i.arotation,(_=((_+it)*t.MathUtils.radDeg-i.ashearX)*m+d-nt)>180?_-=360:_<-180&&(_+=360),i.updateWorldTransformWith(g,v,nt+_*s,i.ascaleX,i.ascaleY,i.ashearX,i.ashearY)}else i.updateWorldTransform()},e}();t.IkConstraint=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){return function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t}}();t.IkConstraintData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var i=0,n=t.bones.length;i<n;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){var i=this.target.getAttachment();if(i instanceof t.PathAttachment){var n=this.rotateMix,r=this.translateMix,a=n>0;if(r>0||a){var s=this.data,o=s.spacingMode,h=o==t.SpacingMode.Length,l=s.rotateMode,c=l==t.RotateMode.Tangent,u=l==t.RotateMode.ChainScale,p=this.bones.length,f=c?p:p+1,d=this.bones,m=t.Utils.setArraySize(this.spaces,f),g=null,v=this.spacing;if(u||h){u&&(g=t.Utils.setArraySize(this.lengths,p));for(var y=0,x=f-1;y<x;){var w=(C=d[y]).data.length;if(w<e.epsilon)u&&(g[y]=0),m[++y]=0;else{var T=w*C.matrix.a,E=w*C.matrix.b,b=Math.sqrt(T*T+E*E);u&&(g[y]=b),m[++y]=(h?w+v:v)*b/w}}}else for(y=1;y<f;y++)m[y]=v;var M=this.computeWorldPositions(i,f,c,s.positionMode==t.PositionMode.Percent,o==t.SpacingMode.Percent),S=M[0],P=M[1],A=s.offsetRotation,I=!1;if(0==A)I=l==t.RotateMode.Chain;else I=!1,A*=(R=this.target.bone.matrix).a*R.d-R.b*R.c>0?t.MathUtils.degRad:-t.MathUtils.degRad;y=0;for(var R=3;y<p;y++,R+=3){var C,k=(C=d[y]).matrix;k.tx+=(S-k.tx)*r,k.ty+=(P-k.ty)*r;var V=(T=M[R])-S,X=(E=M[R+1])-P;if(u){var Y=g[y];if(0!=Y){var N=(Math.sqrt(V*V+X*X)/Y-1)*n+1;k.a*=N,k.b*=N}}if(S=T,P=E,a){var _=k.a,D=k.c,U=k.b,O=k.d,F=0,L=0,W=0;if(F=c?M[R-1]:0==m[y+1]?M[R+2]:Math.atan2(X,V),F-=Math.atan2(U,_),I){L=Math.cos(F),W=Math.sin(F);var B=C.data.length;S+=(B*(L*_-W*U)-V)*n,P+=(B*(W*_+L*U)-X)*n}else F+=A;F>t.MathUtils.PI?F-=t.MathUtils.PI2:F<-t.MathUtils.PI&&(F+=t.MathUtils.PI2),F*=n,L=Math.cos(F),W=Math.sin(F),k.a=L*_-W*U,k.c=L*D-W*O,k.b=W*_+L*U,k.d=W*D+L*O}C.appliedValid=!1}}}},e.prototype.computeWorldPositions=function(i,n,r,a,s){var o=this.target,h=this.position,l=this.spaces,c=t.Utils.setArraySize(this.positions,3*n+2),u=null,p=i.closed,f=i.worldVerticesLength,d=f/6,m=e.NONE;if(!i.constantSpeed){var g=i.lengths,v=g[d-=p?1:2];if(a&&(h*=v),s)for(var y=0;y<n;y++)l[y]*=v;u=t.Utils.setArraySize(this.world,8);y=0;for(var x=0,w=0;y<n;y++,x+=3){var T=h+=H=l[y];if(p)(T%=v)<0&&(T+=v),w=0;else{if(T<0){m!=e.BEFORE&&(m=e.BEFORE,i.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(T,u,0,c,x);continue}if(T>v){m!=e.AFTER&&(m=e.AFTER,i.computeWorldVertices(o,f-6,4,u,0,2)),this.addAfterPosition(T-v,u,0,c,x);continue}}for(;;w++){var E=g[w];if(!(T>E)){if(0==w)T/=E;else T=(T-(Z=g[w-1]))/(E-Z);break}}w!=m&&(m=w,p&&w==d?(i.computeWorldVertices(o,f-4,4,u,0,2),i.computeWorldVertices(o,0,4,u,4,2)):i.computeWorldVertices(o,6*w+2,8,u,0,2)),this.addCurvePosition(T,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],c,x,r||y>0&&0==H)}return c}p?(f+=2,u=t.Utils.setArraySize(this.world,f),i.computeWorldVertices(o,2,f-4,u,0,2),i.computeWorldVertices(o,0,2,u,f-4,2),u[f-2]=u[0],u[f-1]=u[1]):(d--,f-=4,u=t.Utils.setArraySize(this.world,f),i.computeWorldVertices(o,2,f,u,0,2));for(var b=t.Utils.setArraySize(this.curves,d),M=0,S=u[0],P=u[1],A=0,I=0,R=0,C=0,k=0,V=0,X=0,Y=0,N=0,_=0,D=0,U=0,O=0,F=0,L=(y=0,2);y<d;y++,L+=6)A=u[L],I=u[L+1],R=u[L+2],C=u[L+3],k=u[L+4],V=u[L+5],D=2*(X=.1875*(S-2*A+R))+(N=.09375*(3*(A-R)-S+k)),U=2*(Y=.1875*(P-2*I+C))+(_=.09375*(3*(I-C)-P+V)),O=.75*(A-S)+X+.16666667*N,F=.75*(I-P)+Y+.16666667*_,M+=Math.sqrt(O*O+F*F),O+=D,F+=U,D+=N,U+=_,M+=Math.sqrt(O*O+F*F),O+=D,F+=U,M+=Math.sqrt(O*O+F*F),O+=D+N,F+=U+_,M+=Math.sqrt(O*O+F*F),b[y]=M,S=k,P=V;if(a&&(h*=M),s)for(y=0;y<n;y++)l[y]*=M;for(var W=this.segments,B=0,z=(y=0,x=0,w=0,0);y<n;y++,x+=3){var H;T=h+=H=l[y];if(p)(T%=M)<0&&(T+=M),w=0;else{if(T<0){this.addBeforePosition(T,u,0,c,x);continue}if(T>M){this.addAfterPosition(T-M,u,f-4,c,x);continue}}for(;;w++){var q=b[w];if(!(T>q)){if(0==w)T/=q;else T=(T-(Z=b[w-1]))/(q-Z);break}}if(w!=m){m=w;var j=6*w;for(S=u[j],P=u[j+1],A=u[j+2],I=u[j+3],R=u[j+4],C=u[j+5],k=u[j+6],V=u[j+7],D=2*(X=.03*(S-2*A+R))+(N=.006*(3*(A-R)-S+k)),U=2*(Y=.03*(P-2*I+C))+(_=.006*(3*(I-C)-P+V)),O=.3*(A-S)+X+.16666667*N,F=.3*(I-P)+Y+.16666667*_,B=Math.sqrt(O*O+F*F),W[0]=B,j=1;j<8;j++)O+=D,F+=U,D+=N,U+=_,B+=Math.sqrt(O*O+F*F),W[j]=B;O+=D,F+=U,B+=Math.sqrt(O*O+F*F),W[8]=B,O+=D+N,F+=U+_,B+=Math.sqrt(O*O+F*F),W[9]=B,z=0}for(T*=B;;z++){var G=W[z];if(!(T>G)){var Z;if(0==z)T/=G;else T=z+(T-(Z=W[z-1]))/(G-Z);break}}this.addCurvePosition(.1*T,S,P,A,I,R,C,k,V,c,x,r||y>0&&0==H)}return c},e.prototype.addBeforePosition=function(t,e,i,n,r){var a=e[i],s=e[i+1],o=e[i+2]-a,h=e[i+3]-s,l=Math.atan2(h,o);n[r]=a+t*Math.cos(l),n[r+1]=s+t*Math.sin(l),n[r+2]=l},e.prototype.addAfterPosition=function(t,e,i,n,r){var a=e[i+2],s=e[i+3],o=a-e[i],h=s-e[i+1],l=Math.atan2(h,o);n[r]=a+t*Math.cos(l),n[r+1]=s+t*Math.sin(l),n[r+2]=l},e.prototype.addCurvePosition=function(t,e,i,n,r,a,s,o,h,l,c,u){(0==t||isNaN(t))&&(t=1e-4);var p=t*t,f=p*t,d=1-t,m=d*d,g=m*d,v=d*t,y=3*v,x=d*y,w=y*t,T=e*g+n*x+a*w+o*f,E=i*g+r*x+s*w+h*f;l[c]=T,l[c+1]=E,u&&(l[c+2]=Math.atan2(E-(i*m+r*v*2+s*p),T-(e*m+n*v*2+a*p)))},e.prototype.getOrder=function(){return this.data.order},e.NONE=-1,e.BEFORE=-2,e.AFTER=-3,e.epsilon=1e-5,e}();t.PathConstraint=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){return function(t){this.order=0,this.bones=new Array,this.name=t}}();t.PathConstraintData=e,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(t.PositionMode||(t.PositionMode={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(t.SpacingMode||(t.SpacingMode={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(t.RotateMode||(t.RotateMode={}))}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var i=0;i<e.bones.length;i++){var n=e.bones[i],r=void 0;if(null==n.parent)r=new t.Bone(n,this,null);else{var a=this.bones[n.parent.index];r=new t.Bone(n,this,a),a.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(i=0;i<e.slots.length;i++){var s=e.slots[i],o=(r=this.bones[s.boneData.index],new t.Slot(s,r));this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(i=0;i<e.ikConstraints.length;i++){var h=e.ikConstraints[i];this.ikConstraints.push(new t.IkConstraint(h,this))}this.transformConstraints=new Array;for(i=0;i<e.transformConstraints.length;i++){var l=e.transformConstraints[i];this.transformConstraints.push(new t.TransformConstraint(l,this))}this.pathConstraints=new Array;for(i=0;i<e.pathConstraints.length;i++){var c=e.pathConstraints[i];this.pathConstraints.push(new t.PathConstraint(c,this))}this.color=new t.Color(1,1,1,1),this.updateCache()}return e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].sorted=!1;var n=this.ikConstraints,r=this.transformConstraints,a=this.pathConstraints,s=n.length,o=r.length,h=a.length,l=s+o+h;t:for(e=0;e<l;e++){for(var c=0;c<s;c++){if((u=n[c]).data.order==e){this.sortIkConstraint(u);continue t}}for(c=0;c<o;c++){if((u=r[c]).data.order==e){this.sortTransformConstraint(u);continue t}}for(c=0;c<h;c++){var u;if((u=a[c]).data.order==e){this.sortPathConstraint(u);continue t}}}for(e=0,i=t.length;e<i;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var i=t.bones,n=i[0];if(this.sortBone(n),i.length>1){var r=i[i.length-1];this._updateCache.indexOf(r)>-1||this.updateCacheReset.push(r)}this._updateCache.push(t),this.sortReset(n.children),i[i.length-1].sorted=!0},e.prototype.sortPathConstraint=function(e){var i=e.target,n=i.data.index,r=i.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var a=0,s=this.data.skins.length;a<s;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,r);var o=i.getAttachment();o instanceof t.PathAttachment&&this.sortPathConstraintAttachmentWith(o,r);var h=e.bones,l=h.length;for(a=0;a<l;a++)this.sortBone(h[a]);this._updateCache.push(e);for(a=0;a<l;a++)this.sortReset(h[a].children);for(a=0;a<l;a++)h[a].sorted=!0},e.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,i=e.length;if(t.data.local)for(var n=0;n<i;n++){var r=e[n];this.sortBone(r.parent),this._updateCache.indexOf(r)>-1||this.updateCacheReset.push(r)}else for(n=0;n<i;n++)this.sortBone(e[n]);this._updateCache.push(t);for(var a=0;a<i;a++)this.sortReset(e[a].children);for(a=0;a<i;a++)e[a].sorted=!0},e.prototype.sortPathConstraintAttachment=function(t,e,i){var n=t.attachments[e];if(n)for(var r in n)this.sortPathConstraintAttachmentWith(n[r],i)},e.prototype.sortPathConstraintAttachmentWith=function(e,i){if(e instanceof t.PathAttachment){var n=e.bones;if(null==n)this.sortBone(i);else for(var r=this.bones,a=0;a<n.length;)for(var s=n[a++],o=a+s;a<o;a++){var h=n[a];this.sortBone(r[h])}}},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.prototype.sortReset=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];n.sorted&&this.sortReset(n.children),n.sorted=!1}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,i=t.length;e<i;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}var r=this._updateCache;for(e=0,i=r.length;e<i;e++)r[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].setToSetupPose();var n=this.ikConstraints;for(e=0,i=n.length;e<i;e++){(o=n[e]).bendDirection=o.data.bendDirection,o.mix=o.data.mix}var r=this.transformConstraints;for(e=0,i=r.length;e<i;e++){var a=(o=r[e]).data;o.rotateMix=a.rotateMix,o.translateMix=a.translateMix,o.scaleMix=a.scaleMix,o.shearMix=a.shearMix}var s=this.pathConstraints;for(e=0,i=s.length;e<i;e++){var o;a=(o=s[e]).data;o.position=a.position,o.spacing=a.spacing,o.rotateMix=a.rotateMix,o.translateMix=a.translateMix}},e.prototype.setSlotsToSetupPose=function(){var e=this.slots;t.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var i=0,n=e.length;i<n;i++)e[i].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++)if(e[i].data.name==t)return i;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++)if(e[i].data.name==t)return i;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,i=0,n=e.length;i<n;i++){var r=e[i],a=r.data.attachmentName;if(null!=a){var s=t.getAttachment(i,a);null!=s&&r.setAttachment(s)}}this.skin=t},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var i=this.skin.getAttachment(t,e);if(null!=i)return i}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var i=this.slots,n=0,r=i.length;n<r;n++){var a=i[n];if(a.data.name==t){var s=null;if(null!=e&&null==(s=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(s)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.getBounds=function(e,i,n){if(null==e)throw new Error("offset cannot be null.");if(null==i)throw new Error("size cannot be null.");for(var r=this.drawOrder,a=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,l=0,c=r.length;l<c;l++){var u=r[l],p=0,f=null,d=u.getAttachment();if(d instanceof t.RegionAttachment)p=8,f=t.Utils.setArraySize(n,p,0),d.computeWorldVertices(u.bone,f,0,2);else if(d instanceof t.MeshAttachment){var m=d;p=m.worldVerticesLength,f=t.Utils.setArraySize(n,p,0),m.computeWorldVertices(u,0,p,f,0,2)}if(null!=f)for(var g=0,v=f.length;g<v;g+=2){var y=f[g],x=f[g+1];a=Math.min(a,y),s=Math.min(s,x),o=Math.max(o,y),h=Math.max(h,x)}}e.set(a,s),i.set(o-a,h-s)},e.prototype.update=function(t){this.time+=t},e}();t.Skeleton=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new t.Pool(function(){return t.Utils.newFloatArray(16)})}return e.prototype.update=function(e,i){if(null==e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,r=this.polygons,a=this.polygonPool,s=e.slots,o=s.length;n.length=0,a.freeAll(r),r.length=0;for(var h=0;h<o;h++){var l=s[h],c=l.getAttachment();if(c instanceof t.BoundingBoxAttachment){var u=c;n.push(u);var p=a.obtain();p.length!=u.worldVerticesLength&&(p=t.Utils.newFloatArray(u.worldVerticesLength)),r.push(p),u.computeWorldVertices(l,0,u.worldVerticesLength,p,0,2)}}i?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=this.polygons,a=0,s=r.length;a<s;a++)for(var o=r[a],h=o,l=0,c=o.length;l<c;l+=2){var u=h[l],p=h[l+1];t=Math.min(t,u),e=Math.min(e,p),i=Math.max(i,u),n=Math.max(n,p)}this.minX=t,this.minY=e,this.maxX=i,this.maxY=n},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,i,n){var r=this.minX,a=this.minY,s=this.maxX,o=this.maxY;if(t<=r&&i<=r||e<=a&&n<=a||t>=s&&i>=s||e>=o&&n>=o)return!1;var h=(n-e)/(i-t),l=h*(r-t)+e;if(l>a&&l<o)return!0;if((l=h*(s-t)+e)>a&&l<o)return!0;var c=(a-e)/h+t;return c>r&&c<s||(c=(o-e)/h+t)>r&&c<s},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var i=this.polygons,n=0,r=i.length;n<r;n++)if(this.containsPointPolygon(i[n],t,e))return this.boundingBoxes[n];return null},e.prototype.containsPointPolygon=function(t,e,i){for(var n=t,r=t.length,a=r-2,s=!1,o=0;o<r;o+=2){var h=n[o+1],l=n[a+1];if(h<i&&l>=i||l<i&&h>=i){var c=n[o];c+(i-h)/(l-h)*(n[a]-c)<e&&(s=!s)}a=o}return s},e.prototype.intersectsSegment=function(t,e,i,n){for(var r=this.polygons,a=0,s=r.length;a<s;a++)if(this.intersectsSegmentPolygon(r[a],t,e,i,n))return this.boundingBoxes[a];return null},e.prototype.intersectsSegmentPolygon=function(t,e,i,n,r){for(var a=t,s=t.length,o=e-n,h=i-r,l=e*r-i*n,c=a[s-2],u=a[s-1],p=0;p<s;p+=2){var f=a[p],d=a[p+1],m=c*d-u*f,g=c-f,v=u-d,y=o*v-h*g,x=(l*g-o*m)/y;if((x>=c&&x<=f||x>=f&&x<=c)&&(x>=e&&x<=n||x>=n&&x<=e)){var w=(l*v-h*m)/y;if((w>=u&&w<=d||w>=d&&w<=u)&&(w>=i&&w<=r||w>=r&&w<=i))return!0}c=f,u=d}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e}();t.SkeletonBounds=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(){this.triangulator=new t.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return e.prototype.clipStart=function(i,n){if(null!=this.clipAttachment)return 0;this.clipAttachment=n;var r=n.worldVerticesLength,a=t.Utils.setArraySize(this.clippingPolygon,r);n.computeWorldVertices(i,0,r,a,0,2);var s=this.clippingPolygon;e.makeClockwise(s);for(var o=this.clippingPolygons=this.triangulator.decompose(s,this.triangulator.triangulate(s)),h=0,l=o.length;h<l;h++){var c=o[h];e.makeClockwise(c),c.push(c[0]),c.push(c[1])}return o.length},e.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},e.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},e.prototype.isClipping=function(){return null!=this.clipAttachment},e.prototype.clipTriangles=function(e,i,n,r,a,s,o,h){var l=this.clipOutput,c=this.clippedVertices,u=this.clippedTriangles,p=this.clippingPolygons,f=this.clippingPolygons.length,d=h?12:8,m=0;c.length=0,u.length=0;t:for(var g=0;g<r;g+=3)for(var v=n[g]<<1,y=e[v],x=e[v+1],w=a[v],T=a[v+1],E=e[v=n[g+1]<<1],b=e[v+1],M=a[v],S=a[v+1],P=e[v=n[g+2]<<1],A=e[v+1],I=a[v],R=a[v+1],C=0;C<f;C++){var k=c.length;if(!this.clip(y,x,E,b,P,A,p[C],l)){(F=t.Utils.setArraySize(c,k+3*d))[k]=y,F[k+1]=x,F[k+2]=s.r,F[k+3]=s.g,F[k+4]=s.b,F[k+5]=s.a,h?(F[k+6]=w,F[k+7]=T,F[k+8]=o.r,F[k+9]=o.g,F[k+10]=o.b,F[k+11]=o.a,F[k+12]=E,F[k+13]=b,F[k+14]=s.r,F[k+15]=s.g,F[k+16]=s.b,F[k+17]=s.a,F[k+18]=M,F[k+19]=S,F[k+20]=o.r,F[k+21]=o.g,F[k+22]=o.b,F[k+23]=o.a,F[k+24]=P,F[k+25]=A,F[k+26]=s.r,F[k+27]=s.g,F[k+28]=s.b,F[k+29]=s.a,F[k+30]=I,F[k+31]=R,F[k+32]=o.r,F[k+33]=o.g,F[k+34]=o.b,F[k+35]=o.a):(F[k+6]=w,F[k+7]=T,F[k+8]=E,F[k+9]=b,F[k+10]=s.r,F[k+11]=s.g,F[k+12]=s.b,F[k+13]=s.a,F[k+14]=M,F[k+15]=S,F[k+16]=P,F[k+17]=A,F[k+18]=s.r,F[k+19]=s.g,F[k+20]=s.b,F[k+21]=s.a,F[k+22]=I,F[k+23]=R),k=u.length,(Z=t.Utils.setArraySize(u,k+3))[k]=m,Z[k+1]=m+1,Z[k+2]=m+2,m+=3;continue t}var V=l.length;if(0!=V){for(var X=b-A,Y=P-E,N=y-P,_=A-x,D=1/(X*N+Y*(x-A)),U=V>>1,O=this.clipOutput,F=t.Utils.setArraySize(c,k+U*d),L=0;L<V;L+=2){var W=O[L],B=O[L+1];F[k]=W,F[k+1]=B,F[k+2]=s.r,F[k+3]=s.g,F[k+4]=s.b,F[k+5]=s.a;var z=W-P,H=B-A,q=(X*z+Y*H)*D,j=(_*z+N*H)*D,G=1-q-j;F[k+6]=w*q+M*j+I*G,F[k+7]=T*q+S*j+R*G,h&&(F[k+8]=o.r,F[k+9]=o.g,F[k+10]=o.b,F[k+11]=o.a),k+=d}k=u.length;var Z=t.Utils.setArraySize(u,k+3*(U-2));U--;for(L=1;L<U;L++)Z[k]=m,Z[k+1]=m+L,Z[k+2]=m+L+1,k+=3;m+=U+1}}},e.prototype.clip=function(t,e,i,n,r,a,s,o){var h=o,l=!1,c=null;s.length%4>=2?(c=o,o=this.scratch):c=this.scratch,c.length=0,c.push(t),c.push(e),c.push(i),c.push(n),c.push(r),c.push(a),c.push(t),c.push(e),o.length=0;for(var u=s,p=s.length-4,f=0;;f+=2){for(var d=u[f],m=u[f+1],g=u[f+2],v=u[f+3],y=d-g,x=m-v,w=c,T=c.length-2,E=o.length,b=0;b<T;b+=2){var M=w[b],S=w[b+1],P=w[b+2],A=w[b+3],I=y*(A-v)-x*(P-g)>0;if(y*(S-v)-x*(M-g)>0){if(I){o.push(P),o.push(A);continue}var R=((k=P-M)*(m-S)-(C=A-S)*(d-M))/(C*(g-d)-k*(v-m));o.push(d+(g-d)*R),o.push(m+(v-m)*R)}else if(I){var C,k;R=((k=P-M)*(m-S)-(C=A-S)*(d-M))/(C*(g-d)-k*(v-m));o.push(d+(g-d)*R),o.push(m+(v-m)*R),o.push(P),o.push(A)}l=!0}if(E==o.length)return h.length=0,!0;if(o.push(o[0]),o.push(o[1]),f==p)break;var V=o;(o=c).length=0,c=V}if(h!=o){h.length=0;f=0;for(var X=o.length-2;f<X;f++)h[f]=o[f]}else h.length=h.length-2;return l},e.makeClockwise=function(t){for(var e=t,i=t.length,n=e[i-2]*e[1]-e[0]*e[i-1],r=0,a=0,s=0,o=0,h=i-3;o<h;o+=2)r=e[o],a=e[o+1],s=e[o+2],n+=r*e[o+3]-s*a;if(!(n<0)){o=0;var l=i-2;for(h=i>>1;o<h;o+=2){var c=e[o],u=e[o+1],p=l-o;e[o]=e[p],e[o+1]=e[p+1],e[p]=c,e[p+1]=u}}},e}();t.SkeletonClipping=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},t}();t.SkeletonData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(i){var n,r=this.scale,a=new t.SkeletonData,s="string"==typeof i?JSON.parse(i):i,o=s.skeleton;if(null!=o&&(a.hash=o.hash,a.version=o.spine,a.width=o.width,a.height=o.height,a.fps=o.fps,a.imagesPath=o.images),s.bones)for(var h=0;h<s.bones.length;h++){var l=s.bones[h],c=null,u=this.getValue(l,"parent",null);if(null!=u&&null==(c=a.findBone(u)))throw new Error("Parent bone not found: "+u);(m=new t.BoneData(a.bones.length,l.name,c)).length=this.getValue(l,"length",0)*r,m.x=this.getValue(l,"x",0)*r,m.y=this.getValue(l,"y",0)*r,m.rotation=this.getValue(l,"rotation",0),m.scaleX=this.getValue(l,"scaleX",1),m.scaleY=this.getValue(l,"scaleY",1),m.shearX=this.getValue(l,"shearX",0),m.shearY=this.getValue(l,"shearY",0),m.transformMode=e.transformModeFromString(this.getValue(l,"transform","normal")),a.bones.push(m)}if(s.slots)for(h=0;h<s.slots.length;h++){var p=(P=s.slots[h]).name,f=P.bone,d=a.findBone(f);if(null==d)throw new Error("Slot bone not found: "+f);var m=new t.SlotData(a.slots.length,p,d),g=this.getValue(P,"color",null);null!=g&&m.color.setFromString(g);var v=this.getValue(P,"dark",null);null!=v&&(m.darkColor=new t.Color(1,1,1,1),m.darkColor.setFromString(v)),m.attachmentName=this.getValue(P,"attachment",null),m.blendMode=e.blendModeFromString(this.getValue(P,"blend","normal"));!!/iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())&&(n=void 0,n=(n=(navigator.userAgent.toLowerCase().match(/os [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")).split(".")[0],parseInt(n)>=14)&&1==m.blendMode&&(m.blendMode=3),a.slots.push(m)}if(s.ik)for(h=0;h<s.ik.length;h++){var y=s.ik[h];(m=new t.IkConstraintData(y.name)).order=this.getValue(y,"order",0);for(var x=0;x<y.bones.length;x++){f=y.bones[x];if(null==(T=a.findBone(f)))throw new Error("IK bone not found: "+f);m.bones.push(T)}var w=y.target;if(m.target=a.findBone(w),null==m.target)throw new Error("IK target bone not found: "+w);m.bendDirection=this.getValue(y,"bendPositive",!0)?1:-1,m.mix=this.getValue(y,"mix",1),a.ikConstraints.push(m)}if(s.transform)for(h=0;h<s.transform.length;h++){y=s.transform[h];(m=new t.TransformConstraintData(y.name)).order=this.getValue(y,"order",0);for(x=0;x<y.bones.length;x++){f=y.bones[x];if(null==(T=a.findBone(f)))throw new Error("Transform constraint bone not found: "+f);m.bones.push(T)}w=y.target;if(m.target=a.findBone(w),null==m.target)throw new Error("Transform constraint target bone not found: "+w);m.local=this.getValue(y,"local",!1),m.relative=this.getValue(y,"relative",!1),m.offsetRotation=this.getValue(y,"rotation",0),m.offsetX=this.getValue(y,"x",0)*r,m.offsetY=this.getValue(y,"y",0)*r,m.offsetScaleX=this.getValue(y,"scaleX",0),m.offsetScaleY=this.getValue(y,"scaleY",0),m.offsetShearY=this.getValue(y,"shearY",0),m.rotateMix=this.getValue(y,"rotateMix",1),m.translateMix=this.getValue(y,"translateMix",1),m.scaleMix=this.getValue(y,"scaleMix",1),m.shearMix=this.getValue(y,"shearMix",1),a.transformConstraints.push(m)}if(s.path)for(h=0;h<s.path.length;h++){y=s.path[h];(m=new t.PathConstraintData(y.name)).order=this.getValue(y,"order",0);for(x=0;x<y.bones.length;x++){var T;f=y.bones[x];if(null==(T=a.findBone(f)))throw new Error("Transform constraint bone not found: "+f);m.bones.push(T)}w=y.target;if(m.target=a.findSlot(w),null==m.target)throw new Error("Path target slot not found: "+w);m.positionMode=e.positionModeFromString(this.getValue(y,"positionMode","percent")),m.spacingMode=e.spacingModeFromString(this.getValue(y,"spacingMode","length")),m.rotateMode=e.rotateModeFromString(this.getValue(y,"rotateMode","tangent")),m.offsetRotation=this.getValue(y,"rotation",0),m.position=this.getValue(y,"position",0),m.positionMode==t.PositionMode.Fixed&&(m.position*=r),m.spacing=this.getValue(y,"spacing",0),m.spacingMode!=t.SpacingMode.Length&&m.spacingMode!=t.SpacingMode.Fixed||(m.spacing*=r),m.rotateMix=this.getValue(y,"rotateMix",1),m.translateMix=this.getValue(y,"translateMix",1),a.pathConstraints.push(m)}if(s.skins)for(var E in s.skins){var b=s.skins[E],M=new t.Skin(E);for(var p in b){var S=a.findSlotIndex(p);if(-1==S)throw new Error("Slot not found: "+p);var P=b[p];for(var A in P){var I=this.readAttachment(P[A],M,S,A,a);null!=I&&M.addAttachment(S,A,I)}}a.skins.push(M),"default"==M.name&&(a.defaultSkin=M)}h=0;for(var R=this.linkedMeshes.length;h<R;h++){var C=this.linkedMeshes[h];if(null==(M=null==C.skin?a.defaultSkin:a.findSkin(C.skin)))throw new Error("Skin not found: "+C.skin);var k=M.getAttachment(C.slotIndex,C.parent);if(null==k)throw new Error("Parent mesh not found: "+C.parent);C.mesh.setParentMesh(k)}if(this.linkedMeshes.length=0,s.events)for(var V in s.events){var X=s.events[V];(m=new t.EventData(V)).intValue=this.getValue(X,"int",0),m.floatValue=this.getValue(X,"float",0),m.stringValue=this.getValue(X,"string",""),m.audio=this.getValue(X,"audio",null),a.events.push(m)}if(s.animations)for(var Y in s.animations){var N=s.animations[Y];this.readAnimation(N,Y,a)}return a},e.prototype.readAttachment=function(e,n,r,a,s){var o=this.scale;switch(a=this.getValue(e,"name",a),this.getValue(e,"type","region")){case"region":var h=this.getValue(e,"path",a),l=this.attachmentLoader.newRegionAttachment(n,a,h);return null==l?null:(l.path=h,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,null!=(T=this.getValue(e,"color",null))&&l.color.setFromString(T),l);case"boundingbox":var c=this.attachmentLoader.newBoundingBoxAttachment(n,a);return null==c?null:(this.readVertices(e,c,e.vertexCount<<1),null!=(T=this.getValue(e,"color",null))&&c.color.setFromString(T),c);case"mesh":case"linkedmesh":h=this.getValue(e,"path",a);var u=this.attachmentLoader.newMeshAttachment(n,a,h);if(null==u)return null;u.path=h,null!=(T=this.getValue(e,"color",null))&&u.color.setFromString(T);var p=this.getValue(e,"parent",null);if(null!=p)return u.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new i(u,this.getValue(e,"skin",null),r,p)),u;var f=e.uvs;return this.readVertices(e,u,f.length),u.triangles=e.triangles,u.regionUVs=f,u.hullLength=2*this.getValue(e,"hull",0),u;case"path":if(null==(h=this.attachmentLoader.newPathAttachment(n,a)))return null;h.closed=this.getValue(e,"closed",!1),h.constantSpeed=this.getValue(e,"constantSpeed",!0);var d=e.vertexCount;this.readVertices(e,h,d<<1);for(var m=t.Utils.newArray(d/3,0),g=0;g<e.lengths.length;g++)m[g]=e.lengths[g]*o;return h.lengths=m,null!=(T=this.getValue(e,"color",null))&&h.color.setFromString(T),h;case"point":var v=this.attachmentLoader.newPointAttachment(n,a);return null==v?null:(v.x=this.getValue(e,"x",0)*o,v.y=this.getValue(e,"y",0)*o,v.rotation=this.getValue(e,"rotation",0),null!=(T=this.getValue(e,"color",null))&&v.color.setFromString(T),v);case"clipping":var y=this.attachmentLoader.newClippingAttachment(n,a);if(null==y)return null;var x=this.getValue(e,"end",null);if(null!=x){var w=s.findSlot(x);if(null==w)throw new Error("Clipping end slot not found: "+x);y.endSlot=w}var T;d=e.vertexCount;return this.readVertices(e,y,d<<1),null!=(T=this.getValue(e,"color",null))&&y.color.setFromString(T),y}return null},e.prototype.readVertices=function(e,i,n){var r=this.scale;i.worldVerticesLength=n;var a=e.vertices;if(n!=a.length){var s=new Array,o=new Array;for(u=0,p=a.length;u<p;){var h=a[u++];o.push(h);for(var l=u+4*h;u<l;u+=4)o.push(a[u]),s.push(a[u+1]*r),s.push(a[u+2]*r),s.push(a[u+3])}i.bones=o,i.vertices=t.Utils.toFloatArray(s)}else{var c=t.Utils.toFloatArray(a);if(1!=r)for(var u=0,p=a.length;u<p;u++)c[u]*=r;i.vertices=c}},e.prototype.readAnimation=function(e,i,n){var r=this.scale,a=new Array,s=0;if(e.slots)for(var o in e.slots){var h=e.slots[o];if(-1==(Z=n.findSlotIndex(o)))throw new Error("Slot not found: "+o);for(var l in h){var c=h[l];if("attachment"==l){(w=new t.AttachmentTimeline(c.length)).slotIndex=Z;for(var u=0,p=0;p<c.length;p++){var f=c[p];w.setFrame(u++,f.time,f.name)}a.push(w),s=Math.max(s,w.frames[w.getFrameCount()-1])}else if("color"==l){(w=new t.ColorTimeline(c.length)).slotIndex=Z;for(u=0,p=0;p<c.length;p++){f=c[p];var d=new t.Color;d.setFromString(f.color||"ffffffff"),w.setFrame(u,f.time,d.r,d.g,d.b,d.a),this.readCurve(f,w,u),u++}a.push(w),s=Math.max(s,w.frames[(w.getFrameCount()-1)*t.ColorTimeline.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: "+l+" ("+o+")");(w=new t.TwoColorTimeline(c.length)).slotIndex=Z;for(u=0,p=0;p<c.length;p++){f=c[p];var m=new t.Color,g=new t.Color;m.setFromString(f.light),g.setFromString(f.dark),w.setFrame(u,f.time,m.r,m.g,m.b,m.a,g.r,g.g,g.b),this.readCurve(f,w,u),u++}a.push(w),s=Math.max(s,w.frames[(w.getFrameCount()-1)*t.TwoColorTimeline.ENTRIES])}}}if(e.bones)for(var v in e.bones){var y=e.bones[v],x=n.findBoneIndex(v);if(-1==x)throw new Error("Bone not found: "+v);for(var l in y){c=y[l];if("rotate"===l){(w=new t.RotateTimeline(c.length)).boneIndex=x;for(u=0,p=0;p<c.length;p++){f=c[p];w.setFrame(u,f.time,f.angle),this.readCurve(f,w,u),u++}a.push(w),s=Math.max(s,w.frames[(w.getFrameCount()-1)*t.RotateTimeline.ENTRIES])}else{if("translate"!==l&&"scale"!==l&&"shear"!==l)throw new Error("Invalid timeline type for a bone: "+l+" ("+v+")");var w=null,T=1;"scale"===l?w=new t.ScaleTimeline(c.length):"shear"===l?w=new t.ShearTimeline(c.length):(w=new t.TranslateTimeline(c.length),T=r),w.boneIndex=x;for(u=0,p=0;p<c.length;p++){f=c[p];var E=this.getValue(f,"x",0),b=this.getValue(f,"y",0);w.setFrame(u,f.time,E*T,b*T),this.readCurve(f,w,u),u++}a.push(w),s=Math.max(s,w.frames[(w.getFrameCount()-1)*t.TranslateTimeline.ENTRIES])}}}if(e.ik)for(var M in e.ik){var S=e.ik[M],P=n.findIkConstraint(M);(w=new t.IkConstraintTimeline(S.length)).ikConstraintIndex=n.ikConstraints.indexOf(P);for(u=0,p=0;p<S.length;p++){f=S[p];w.setFrame(u,f.time,this.getValue(f,"mix",1),this.getValue(f,"bendPositive",!0)?1:-1),this.readCurve(f,w,u),u++}a.push(w),s=Math.max(s,w.frames[(w.getFrameCount()-1)*t.IkConstraintTimeline.ENTRIES])}if(e.transform)for(var M in e.transform){S=e.transform[M],P=n.findTransformConstraint(M);(w=new t.TransformConstraintTimeline(S.length)).transformConstraintIndex=n.transformConstraints.indexOf(P);for(u=0,p=0;p<S.length;p++){f=S[p];w.setFrame(u,f.time,this.getValue(f,"rotateMix",1),this.getValue(f,"translateMix",1),this.getValue(f,"scaleMix",1),this.getValue(f,"shearMix",1)),this.readCurve(f,w,u),u++}a.push(w),s=Math.max(s,w.frames[(w.getFrameCount()-1)*t.TransformConstraintTimeline.ENTRIES])}if(e.paths)for(var M in e.paths){S=e.paths[M];var A=n.findPathConstraintIndex(M);if(-1==A)throw new Error("Path constraint not found: "+M);var I=n.pathConstraints[A];for(var l in S){c=S[l];if("position"===l||"spacing"===l){w=null,T=1;"spacing"===l?(w=new t.PathConstraintSpacingTimeline(c.length),I.spacingMode!=t.SpacingMode.Length&&I.spacingMode!=t.SpacingMode.Fixed||(T=r)):(w=new t.PathConstraintPositionTimeline(c.length),I.positionMode==t.PositionMode.Fixed&&(T=r)),w.pathConstraintIndex=A;for(u=0,p=0;p<c.length;p++){f=c[p];w.setFrame(u,f.time,this.getValue(f,l,0)*T),this.readCurve(f,w,u),u++}a.push(w),s=Math.max(s,w.frames[(w.getFrameCount()-1)*t.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===l){(w=new t.PathConstraintMixTimeline(c.length)).pathConstraintIndex=A;for(u=0,p=0;p<c.length;p++){f=c[p];w.setFrame(u,f.time,this.getValue(f,"rotateMix",1),this.getValue(f,"translateMix",1)),this.readCurve(f,w,u),u++}a.push(w),s=Math.max(s,w.frames[(w.getFrameCount()-1)*t.PathConstraintMixTimeline.ENTRIES])}}}if(e.deform)for(var R in e.deform){var C=e.deform[R],k=n.findSkin(R);if(null==k)throw new Error("Skin not found: "+R);for(var o in C){h=C[o];if(-1==(Z=n.findSlotIndex(o)))throw new Error("Slot not found: "+h.name);for(var l in h){c=h[l];var V=k.getAttachment(Z,l);if(null==V)throw new Error("Deform attachment not found: "+c.name);var X=null!=V.bones,Y=V.vertices,N=X?Y.length/3*2:Y.length;(w=new t.DeformTimeline(c.length)).slotIndex=Z,w.attachment=V;u=0;for(var _=0;_<c.length;_++){f=c[_];var D=void 0,U=this.getValue(f,"vertices",null);if(null==U)D=X?t.Utils.newFloatArray(N):Y;else{D=t.Utils.newFloatArray(N);var O=this.getValue(f,"offset",0);if(t.Utils.arrayCopy(U,0,D,O,U.length),1!=r)for(var F=(p=O)+U.length;p<F;p++)D[p]*=r;if(!X)for(p=0;p<N;p++)D[p]+=Y[p]}w.setFrame(u,f.time,D),this.readCurve(f,w,u),u++}a.push(w),s=Math.max(s,w.frames[w.getFrameCount()-1])}}}var L=e.drawOrder;if(null==L&&(L=e.draworder),null!=L){w=new t.DrawOrderTimeline(L.length);var W=n.slots.length;for(u=0,_=0;_<L.length;_++){var B=L[_],z=null,H=this.getValue(B,"offsets",null);if(null!=H){z=t.Utils.newArray(W,-1);var q=t.Utils.newArray(W-H.length,0),j=0,G=0;for(p=0;p<H.length;p++){var Z,K=H[p];if(-1==(Z=n.findSlotIndex(K.slot)))throw new Error("Slot not found: "+K.slot);for(;j!=Z;)q[G++]=j++;z[j+K.offset]=j++}for(;j<W;)q[G++]=j++;for(p=W-1;p>=0;p--)-1==z[p]&&(z[p]=q[--G])}w.setFrame(u++,B.time,z)}a.push(w),s=Math.max(s,w.frames[w.getFrameCount()-1])}if(e.events){for(w=new t.EventTimeline(e.events.length),u=0,p=0;p<e.events.length;p++){var J=e.events[p],$=n.findEvent(J.name);if(null==$)throw new Error("Event not found: "+J.name);var Q=new t.Event(t.Utils.toSinglePrecision(J.time),$);Q.intValue=this.getValue(J,"int",$.intValue),Q.floatValue=this.getValue(J,"float",$.floatValue),Q.stringValue=this.getValue(J,"string",$.stringValue),w.setFrame(u++,Q)}a.push(w),s=Math.max(s,w.frames[w.getFrameCount()-1])}if(isNaN(s))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new t.Animation(i,a,s))},e.prototype.readCurve=function(t,e,i){if(t.curve)if("stepped"===t.curve)e.setStepped(i);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var n=t.curve;e.setCurve(i,n[0],n[1],n[2],n[3])}},e.prototype.getValue=function(t,e,i){return void 0!==t[e]?t[e]:i},e.blendModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.BlendMode.Normal;if("additive"==e)return t.BlendMode.Additive;if("multiply"==e)return t.BlendMode.Multiply;if("screen"==e)return t.BlendMode.Screen;throw new Error("Unknown blend mode: "+e)},e.positionModeFromString=function(e){if("fixed"==(e=e.toLowerCase()))return t.PositionMode.Fixed;if("percent"==e)return t.PositionMode.Percent;throw new Error("Unknown position mode: "+e)},e.spacingModeFromString=function(e){if("length"==(e=e.toLowerCase()))return t.SpacingMode.Length;if("fixed"==e)return t.SpacingMode.Fixed;if("percent"==e)return t.SpacingMode.Percent;throw new Error("Unknown position mode: "+e)},e.rotateModeFromString=function(e){if("tangent"==(e=e.toLowerCase()))return t.RotateMode.Tangent;if("chain"==e)return t.RotateMode.Chain;if("chainscale"==e)return t.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+e)},e.transformModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.TransformMode.Normal;if("onlytranslation"==e)return t.TransformMode.OnlyTranslation;if("norotationorreflection"==e)return t.TransformMode.NoRotationOrReflection;if("noscale"==e)return t.TransformMode.NoScale;if("noscaleorreflection"==e)return t.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},e}();t.SkeletonJson=e;var i=function(){return function(t,e,i,n){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=n}}()}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function t(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return t.prototype.addAttachment=function(t,e,i){if(null==i)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=i},t.prototype.getAttachment=function(t,e){var i=this.attachments[t];return i?i[e]:null},t.prototype.attachAll=function(t,e){for(var i=0,n=0;n<t.slots.length;n++){var r=t.slots[n],a=r.getAttachment();if(a&&i<e.attachments.length){var s=e.attachments[i];for(var o in s){if(a==s[o]){var h=this.getAttachment(i,o);null!=h&&r.setAttachment(h);break}}}i++}},t}();t.Skin=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(e,i){if(this.attachmentVertices=new Array,null==e)throw new Error("data cannot be null.");if(null==i)throw new Error("bone cannot be null.");this.data=e,this.bone=i,this.color=new t.Color,this.darkColor=null==e.darkColor?null:new t.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}();t.Slot=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){return function(e,i,n){if(this.color=new t.Color(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==i)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=e,this.name=i,this.boneData=n}}();t.SlotData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e,i,n=function(){function t(t){this._image=t}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},t.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return i.MirroredRepeat;case"clamptoedge":return i.ClampToEdge;case"repeat":return i.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t}();t.Texture=n,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(e=t.TextureFilter||(t.TextureFilter={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(i=t.TextureWrap||(t.TextureWrap={}));var r=function(){function t(){this.size=null}return Object.defineProperty(t.prototype,"width",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),t}();t.TextureRegion=r}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t,e,i){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,i)}return e.prototype.addTexture=function(e,i){for(var a=this.pages,s=null,o=0;o<a.length;o++)if(a[o].baseTexture===i.baseTexture){s=a[o];break}if(null===s){(s=new n).name="texturePage";var h=i.baseTexture;s.width=h.realWidth,s.height=h.realHeight,s.baseTexture=h,s.minFilter=s.magFilter=t.TextureFilter.Nearest,s.uWrap=t.TextureWrap.ClampToEdge,s.vWrap=t.TextureWrap.ClampToEdge,a.push(s)}var l=new r;return l.name=e,l.page=s,l.texture=i,l.index=-1,this.regions.push(l),l},e.prototype.addTextureHash=function(t,e){for(var i in t)t.hasOwnProperty(i)&&this.addTexture(e&&-1!==i.indexOf(".")?i.substr(0,i.lastIndexOf(".")):i,t[i])},e.prototype.addSpineAtlas=function(t,e,i){return this.load(t,e,i)},e.prototype.load=function(e,a,s){var o=this;if(null==a)throw new Error("textureLoader cannot be null.");var h=new i(e),l=new Array(4),c=null,u="",p=function(){for(;;){var e=h.readLine();if(null==e)return s&&s(o);if(0==(e=e.trim()).length)c=null;else if(/\.atlas$/.test(e))u=e.substr(0,e.lastIndexOf("/"))+"/";else{if(!c){(c=new n).name=e,2==h.readTuple(l)&&(c.width=parseInt(l[0]),c.height=parseInt(l[1]),h.readTuple(l)),h.readTuple(l),c.minFilter=t.Texture.filterFromString(l[0]),c.magFilter=t.Texture.filterFromString(l[1]);var i=h.readValue();c.uWrap=t.TextureWrap.ClampToEdge,c.vWrap=t.TextureWrap.ClampToEdge,"x"==i?c.uWrap=t.TextureWrap.Repeat:"y"==i?c.vWrap=t.TextureWrap.Repeat:"xy"==i&&(c.uWrap=c.vWrap=t.TextureWrap.Repeat),a(u+e,function(t){c.baseTexture=t,t.hasLoaded||(t.width=c.width,t.height=c.height),o.pages.push(c),c.setFilters(),c.width&&c.height||(c.width=t.realWidth,c.height=t.realHeight,!c.width||c.height),p()}),o.pages.push(c);break}var f=new r;f.name=e,f.page=c;var d="true"==h.readValue()?6:0;h.readTuple(l);var m=parseInt(l[0]),g=parseInt(l[1]);h.readTuple(l);var v=parseInt(l[0]),y=parseInt(l[1]),x=c.baseTexture.resolution;m/=x,g/=x,v/=x,y/=x;var w=new PIXI.Rectangle(m,g,d?y:v,d?v:y);4==h.readTuple(l)&&4==h.readTuple(l)&&h.readTuple(l);var T=parseInt(l[0])/x,E=parseInt(l[1])/x;h.readTuple(l);var b=parseInt(l[0])/x,M=parseInt(l[1])/x,S=new PIXI.Rectangle(0,0,T,E),P=new PIXI.Rectangle(b,E-y-M,v,y);if("3"!=PIXI.VERSION[0])f.texture=new PIXI.Texture(f.page.baseTexture,w,S,P,d);else{var A=new PIXI.Rectangle(m,g,v,y),I=A.clone();P.width=T,P.height=E,f.texture=new PIXI.Texture(f.page.baseTexture,A,I,P,d)}f.index=parseInt(h.readValue()),f.texture._updateUvs(),o.regions.push(f)}}};p()},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},e}();t.TextureAtlas=e;var i=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),i=e.indexOf(":");if(-1==i)throw new Error("Invalid line: "+e);for(var n=0,r=i+1;n<3;n++){var a=e.indexOf(",",r);if(-1==a)break;t[n]=e.substr(r,a-r).trim(),r=a+1}return t[n]=e.substring(r).trim(),n+1},t}();t.TextureAtlasReader=i;var n=function(){function e(){}return e.prototype.setFilters=function(){var e=this.baseTexture,i=this.minFilter;i==t.TextureFilter.Linear?e.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==t.TextureFilter.Nearest?e.scaleMode=PIXI.SCALE_MODES.NEAREST:(e.mipmap=!0,i==t.TextureFilter.MipMapNearestNearest?e.scaleMode=PIXI.SCALE_MODES.NEAREST:e.scaleMode=PIXI.SCALE_MODES.LINEAR)},e}();t.TextureAtlasPage=n;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(t.TextureRegion);t.TextureAtlasRegion=r}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(e,i){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new t.Vector2,null==e)throw new Error("data cannot be null.");if(null==i)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(i.findBone(e.bones[n].name));this.target=i.findBone(e.target.name)}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,i=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target,s=a.matrix,o=s.a,h=s.c,l=s.b,c=s.d,u=o*c-h*l>0?t.MathUtils.degRad:-t.MathUtils.degRad,p=this.data.offsetRotation*u,f=this.data.offsetShearY*u,d=this.bones,m=0,g=d.length;m<g;m++){var v=d[m],y=!1,x=v.matrix;if(0!=e){var w=x.a,T=x.c,E=x.b,b=x.d;(R=Math.atan2(l,o)-Math.atan2(E,w)+p)>t.MathUtils.PI?R-=t.MathUtils.PI2:R<-t.MathUtils.PI&&(R+=t.MathUtils.PI2),R*=e;var M=Math.cos(R),S=Math.sin(R);x.a=M*w-S*E,x.c=M*T-S*b,x.b=S*w+M*E,x.d=S*T+M*b,y=!0}if(0!=i){var P=this.temp;a.localToWorld(P.set(this.data.offsetX,this.data.offsetY)),x.tx+=(P.x-x.tx)*i,x.ty+=(P.y-x.ty)*i,y=!0}if(n>0){var A=Math.sqrt(x.a*x.a+x.b*x.b),I=Math.sqrt(o*o+l*l);A>1e-5&&(A=(A+(I-A+this.data.offsetScaleX)*n)/A),x.a*=A,x.b*=A,A=Math.sqrt(x.c*x.c+x.d*x.d),I=Math.sqrt(h*h+c*c),A>1e-5&&(A=(A+(I-A+this.data.offsetScaleY)*n)/A),x.c*=A,x.d*=A,y=!0}if(r>0){T=x.c,b=x.d;var R,C=Math.atan2(b,T);(R=Math.atan2(c,h)-Math.atan2(l,o)-(C-Math.atan2(x.b,x.a)))>t.MathUtils.PI?R-=t.MathUtils.PI2:R<-t.MathUtils.PI&&(R+=t.MathUtils.PI2),R=C+(R+f)*r;A=Math.sqrt(T*T+b*b);x.c=Math.cos(R)*A,x.d=Math.sin(R)*A,y=!0}y&&(v.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,i=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target,s=a.matrix,o=s.a,h=s.c,l=s.b,c=s.d,u=o*c-h*l>0?t.MathUtils.degRad:-t.MathUtils.degRad,p=this.data.offsetRotation*u,f=this.data.offsetShearY*u,d=this.bones,m=0,g=d.length;m<g;m++){var v=d[m],y=!1,x=v.matrix;if(0!=e){var w=x.a,T=x.c,E=x.b,b=x.d;(I=Math.atan2(l,o)+p)>t.MathUtils.PI?I-=t.MathUtils.PI2:I<-t.MathUtils.PI&&(I+=t.MathUtils.PI2),I*=e;var M=Math.cos(I),S=Math.sin(I);x.a=M*w-S*E,x.c=M*T-S*b,x.b=S*w+M*E,x.d=S*T+M*b,y=!0}if(0!=i){var P=this.temp;a.localToWorld(P.set(this.data.offsetX,this.data.offsetY)),x.tx+=P.x*i,x.ty+=P.y*i,y=!0}if(n>0){var A=(Math.sqrt(o*o+l*l)-1+this.data.offsetScaleX)*n+1;x.a*=A,x.b*=A,A=(Math.sqrt(h*h+c*c)-1+this.data.offsetScaleY)*n+1,x.c*=A,x.d*=A,y=!0}if(r>0){var I;(I=Math.atan2(c,h)-Math.atan2(l,o))>t.MathUtils.PI?I-=t.MathUtils.PI2:I<-t.MathUtils.PI&&(I+=t.MathUtils.PI2);T=x.c,b=x.d;I=Math.atan2(b,T)+(I-t.MathUtils.PI/2+f)*r;A=Math.sqrt(T*T+b*b);x.c=Math.cos(I)*A,x.d=Math.sin(I)*A,y=!0}y&&(v.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var a=this.bones,s=0,o=a.length;s<o;s++){var h=a[s];h.appliedValid||h.updateAppliedTransform();var l=h.arotation;if(0!=t){var c=r.arotation-l+this.data.offsetRotation;l+=(c-=360*(16384-(16384.499999999996-c/360|0)))*t}var u=h.ax,p=h.ay;0!=e&&(u+=(r.ax-u+this.data.offsetX)*e,p+=(r.ay-p+this.data.offsetY)*e);var f=h.ascaleX,d=h.ascaleY;i>0&&(f>1e-5&&(f=(f+(r.ascaleX-f+this.data.offsetScaleX)*i)/f),d>1e-5&&(d=(d+(r.ascaleY-d+this.data.offsetScaleY)*i)/d));var m=h.ashearY;if(n>0){c=r.ashearY-m+this.data.offsetShearY;c-=360*(16384-(16384.499999999996-c/360|0)),h.shearY+=c*n}h.updateWorldTransformWith(u,p,l,f,d,h.ashearX,m)}},e.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,i=this.scaleMix,n=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var a=this.bones,s=0,o=a.length;s<o;s++){var h=a[s];h.appliedValid||h.updateAppliedTransform();var l=h.arotation;0!=t&&(l+=(r.arotation+this.data.offsetRotation)*t);var c=h.ax,u=h.ay;0!=e&&(c+=(r.ax+this.data.offsetX)*e,u+=(r.ay+this.data.offsetY)*e);var p=h.ascaleX,f=h.ascaleY;i>0&&(p>1e-5&&(p*=(r.ascaleX-1+this.data.offsetScaleX)*i+1),f>1e-5&&(f*=(r.ascaleY-1+this.data.offsetScaleY)*i+1));var d=h.ashearY;n>0&&(d+=(r.ashearY+this.data.offsetShearY)*n),h.updateWorldTransformWith(c,u,l,p,f,h.ashearX,d)}},e.prototype.getOrder=function(){return this.data.order},e}();t.TransformConstraint=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){return function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t}}();t.TransformConstraintData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool(function(){return new Array}),this.polygonIndicesPool=new t.Pool(function(){return new Array})}return e.prototype.triangulate=function(t){var i=t,n=t.length>>1,r=this.indicesArray;r.length=0;for(var a=0;a<n;a++)r[a]=a;var s=this.isConcaveArray;s.length=0;a=0;for(var o=n;a<o;++a)s[a]=e.isConcave(a,n,i,r);var h=this.triangles;for(h.length=0;n>3;){for(var l=n-1,c=(a=0,1);;){t:if(!s[a]){for(var u=r[l]<<1,p=r[a]<<1,f=r[c]<<1,d=i[u],m=i[u+1],g=i[p],v=i[p+1],y=i[f],x=i[f+1],w=(c+1)%n;w!=l;w=(w+1)%n)if(s[w]){var T=r[w]<<1,E=i[T],b=i[T+1];if(e.positiveArea(y,x,d,m,E,b)&&e.positiveArea(d,m,g,v,E,b)&&e.positiveArea(g,v,y,x,E,b))break t}break}if(0==c){do{if(!s[a])break;a--}while(a>0);break}l=a,a=c,c=(c+1)%n}h.push(r[(n+a-1)%n]),h.push(r[a]),h.push(r[(a+1)%n]),r.splice(a,1),s.splice(a,1);var M=(--n+a-1)%n,S=a==n?0:a;s[M]=e.isConcave(M,n,i,r),s[S]=e.isConcave(S,n,i,r)}return 3==n&&(h.push(r[2]),h.push(r[0]),h.push(r[1])),h},e.prototype.decompose=function(t,i){var n=t,r=this.convexPolygons;this.polygonPool.freeAll(r),r.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var s=this.polygonIndicesPool.obtain();s.length=0;var o=this.polygonPool.obtain();o.length=0;for(var h=-1,l=0,c=0,u=i.length;c<u;c+=3){var p=i[c]<<1,f=i[c+1]<<1,d=i[c+2]<<1,m=n[p],g=n[p+1],v=n[f],y=n[f+1],x=n[d],w=n[d+1],T=!1;if(h==p){var E=o.length-4,b=e.winding(o[E],o[E+1],o[E+2],o[E+3],x,w),M=e.winding(x,w,o[0],o[1],o[2],o[3]);b==l&&M==l&&(o.push(x),o.push(w),s.push(d),T=!0)}T||(o.length>0?(r.push(o),a.push(s)):(this.polygonPool.free(o),this.polygonIndicesPool.free(s)),(o=this.polygonPool.obtain()).length=0,o.push(m),o.push(g),o.push(v),o.push(y),o.push(x),o.push(w),(s=this.polygonIndicesPool.obtain()).length=0,s.push(p),s.push(f),s.push(d),l=e.winding(m,g,v,y,x,w),h=p)}o.length>0&&(r.push(o),a.push(s));for(c=0,u=r.length;c<u;c++)if(0!=(s=a[c]).length)for(var S=s[0],P=s[s.length-1],A=(o=r[c])[E=o.length-4],I=o[E+1],R=o[E+2],C=o[E+3],k=o[0],V=o[1],X=o[2],Y=o[3],N=e.winding(A,I,R,C,k,V),_=0;_<u;_++)if(_!=c){var D=a[_];if(3==D.length){var U=D[0],O=D[1],F=D[2],L=r[_];x=L[L.length-2],w=L[L.length-1];if(U==S&&O==P){b=e.winding(A,I,R,C,x,w),M=e.winding(x,w,k,V,X,Y);b==N&&M==N&&(L.length=0,D.length=0,o.push(x),o.push(w),s.push(F),A=R,I=C,R=x,C=w,_=0)}}}for(c=r.length-1;c>=0;c--)0==(o=r[c]).length&&(r.splice(c,1),this.polygonPool.free(o),s=a[c],a.splice(c,1),this.polygonIndicesPool.free(s));return r},e.isConcave=function(t,e,i,n){var r=n[(e+t-1)%e]<<1,a=n[t]<<1,s=n[(t+1)%e]<<1;return!this.positiveArea(i[r],i[r+1],i[a],i[a+1],i[s],i[s+1])},e.positiveArea=function(t,e,i,n,r,a){return t*(a-n)+i*(e-a)+r*(n-e)>=0},e.winding=function(t,e,i,n,r,a){var s=i-t,o=n-e;return r*o-a*s+s*e-t*o>=0?1:-1},e}();t.Triangulator=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function t(){this.array=new Array}return t.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},t.prototype.contains=function(t){return void 0!=this.array[0|t]},t.prototype.remove=function(t){this.array[0|t]=void 0},t.prototype.clear=function(){this.array.length=0},t}();t.IntSet=e;var i=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=i,this.a=n}return t.prototype.set=function(t,e,i,n){return this.r=t,this.g=e,this.b=i,this.a=n,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,i,n){return this.r+=t,this.g+=e,this.b+=i,this.a+=n,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}();t.Color=i;var n=function(){function t(){}return t.clamp=function(t,e,i){return t<e?e:t>i?i:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>0?1:t<0?-1:0},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t.randomTriangular=function(e,i){return t.randomTriangularWith(e,i,.5*(e+i))},t.randomTriangularWith=function(t,e,i){var n=Math.random(),r=e-t;return n<=(i-t)/r?t+Math.sqrt(n*r*(i-t)):e-Math.sqrt((1-n)*r*(e-i))},t.PI=3.1415927,t.PI2=2*t.PI,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}();t.MathUtils=n;var r=function(){function t(){}return t.prototype.apply=function(t,e,i){return t+(e-t)*this.applyInternal(i)},t}();t.Interpolation=r;var s=function(t){function e(e){var i=t.call(this)||this;return i.power=2,i.power=e,i}return a(e,t),e.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},e}(r);t.Pow=s;var o=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},e}(s);t.PowOut=o;var h=function(){function t(){}return t.arrayCopy=function(t,e,i,n,r){for(var a=e,s=n;a<e+r;a++,s++)i[s]=t[a]},t.setArraySize=function(t,e,i){void 0===i&&(i=0);var n=t.length;if(n==e)return t;if(t.length=e,n<e)for(var r=n;r<e;r++)t[r]=i;return t},t.ensureArrayCapacity=function(e,i,n){return void 0===n&&(n=0),e.length>=i?e:t.setArraySize(e,i,n)},t.newArray=function(t,e){for(var i=new Array(t),n=0;n<t;n++)i[n]=e;return i},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var i=new Array(e),n=0;n<i.length;n++)i[n]=0;return i},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var i=new Array(e),n=0;n<i.length;n++)i[n]=0;return i},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e},t.webkit602BugfixHelper=function(t,e){},t.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t}();t.Utils=h;var l=function(){function t(){}return t.logBones=function(t){for(var e=0;e<t.bones.length;e++){var i=t.bones[e];i.matrix}},t}();t.DebugUtils=l;var c=function(){function t(t){this.items=new Array,this.instantiator=t}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},t.prototype.clear=function(){this.items.length=0},t}();t.Pool=c;var u=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}();t.Vector2=u;var p=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}();t.TimeKeeper=p;var f=function(){function t(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return t.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},t.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},t.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t}();t.WindowedMean=f}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){return function(t){if(null==t)throw new Error("name cannot be null.");this.name=t}}();t.Attachment=e;var i=function(t){function e(i){var n=t.call(this,i)||this;return n.id=(65535&e.nextID++)<<11,n.worldVerticesLength=0,n}return a(e,t),e.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},e.prototype.computeWorldVertices=function(t,e,i,n,r,a){i=r+(i>>1)*a;var s=t.bone.skeleton,o=t.attachmentVertices,h=this.vertices,l=this.bones;if(null!=l){for(var c=0,u=0,p=0;p<e;p+=2){c+=(g=l[c])+1,u+=g}var f=s.bones;if(0==o.length)for(I=r,M=3*u;I<i;I+=a){var d=0,m=0,g=l[c++];for(g+=c;c<g;c++,M+=3){w=f[l[c]].matrix,R=h[M],C=h[M+1];var v=h[M+2];d+=(R*w.a+C*w.c+w.tx)*v,m+=(R*w.b+C*w.d+w.ty)*v}n[I]=d,n[I+1]=m}else for(var y=o,x=(I=r,M=3*u,u<<1);I<i;I+=a){d=0,m=0,g=l[c++];for(g+=c;c<g;c++,M+=3,x+=2){w=f[l[c]].matrix,R=h[M]+y[x],C=h[M+1]+y[x+1],v=h[M+2];d+=(R*w.a+C*w.c+w.tx)*v,m+=(R*w.b+C*w.d+w.ty)*v}n[I]=d,n[I+1]=m}}else{o.length>0&&(h=o);for(var w,T=(w=t.bone.matrix).tx,E=w.ty,b=w.a,M=w.c,S=w.b,P=w.d,A=e,I=r;I<i;A+=2,I+=a){var R=h[A],C=h[A+1];n[I]=R*b+C*M+T,n[I+1]=R*S+C*P+E}}},e.prototype.applyDeform=function(t){return this==t},e.nextID=0,e}(e);t.VertexAttachment=i}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point"}(t.AttachmentType||(t.AttachmentType={}))}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.color=new t.Color(1,1,1,1),n}return a(i,e),i}(t.VertexAttachment);t.BoundingBoxAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.color=new t.Color(.2275,.2275,.8078,1),n}return a(i,e),i}(t.VertexAttachment);t.ClippingAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.color=new t.Color(1,1,1,1),n.inheritDeform=!1,n.tempColor=new t.Color(0,0,0,0),n}return a(i,e),i.prototype.updateUVs=function(e,i){var n=this.regionUVs.length;if(i&&i.length==n||(i=t.Utils.newFloatArray(n)),null!=e){for(var r=e.texture._uvs,a=e.width,s=e.height,o=e.originalWidth,h=e.originalHeight,l=e.offsetX,c=e.pixiOffsetY,u=0;u<n;u+=2){var p=this.regionUVs[u],f=this.regionUVs[u+1];p=(p*o-l)/a,f=(f*h-c)/s,i[u]=(r.x0*(1-p)+r.x1*p)*(1-f)+(r.x3*(1-p)+r.x2*p)*f,i[u+1]=(r.y0*(1-p)+r.y1*p)*(1-f)+(r.y3*(1-p)+r.y2*p)*f}return i}},i.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},i.prototype.getParentMesh=function(){return this.parentMesh},i.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},i}(t.VertexAttachment);t.MeshAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.closed=!1,n.constantSpeed=!1,n.color=new t.Color(1,1,1,1),n}return a(i,e),i}(t.VertexAttachment);t.PathAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.color=new t.Color(.38,.94,0,1),n}return a(i,e),i.prototype.computeWorldPosition=function(t,e){var i=t.matrix;return e.x=this.x*i.a+this.y*i.c+t.worldX,e.y=this.x*i.b+this.y*i.d+t.worldY,e},i.prototype.computeWorldRotation=function(e){var i=e.matrix,n=t.MathUtils.cosDeg(this.rotation),r=t.MathUtils.sinDeg(this.rotation),a=n*i.a+r*i.c,s=n*i.b+r*i.d;return Math.atan2(s,a)*t.MathUtils.radDeg},i}(t.VertexAttachment);t.PointAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new t.Color(1,1,1,1),n.offset=t.Utils.newFloatArray(8),n.uvs=t.Utils.newFloatArray(8),n.tempColor=new t.Color(1,1,1,1),n}return a(i,e),i.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*e,a=n+this.region.width*t,s=r+this.region.height*e,o=this.rotation*Math.PI/180,h=Math.cos(o),l=Math.sin(o),c=n*h+this.x,u=n*l,p=r*h+this.y,f=r*l,d=a*h+this.x,m=a*l,g=s*h+this.y,v=s*l,y=this.offset;y[i.OX1]=c-f,y[i.OY1]=p+u,y[i.OX2]=c-v,y[i.OY2]=g+u,y[i.OX3]=d-v,y[i.OY3]=g+m,y[i.OX4]=d-f,y[i.OY4]=p+m},i.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},i.prototype.computeWorldVertices=function(t,e,n,r){var a=this.offset,s=t.matrix,o=s.tx,h=s.ty,l=s.a,c=s.c,u=s.b,p=s.d,f=0,d=0;f=a[i.OX1],d=a[i.OY1],e[n]=f*l+d*c+o,e[n+1]=f*u+d*p+h,n+=r,f=a[i.OX2],d=a[i.OY2],e[n]=f*l+d*c+o,e[n+1]=f*u+d*p+h,n+=r,f=a[i.OX3],d=a[i.OY3],e[n]=f*l+d*c+o,e[n+1]=f*u+d*p+h,n+=r,f=a[i.OX4],d=a[i.OY4],e[n]=f*l+d*c+o,e[n+1]=f*u+d*p+h},i.OX1=0,i.OY1=1,i.OX2=2,i.OY2=3,i.OX3=4,i.OY3=5,i.OX4=6,i.OY4=7,i.X1=0,i.Y1=1,i.C1R=2,i.C1G=3,i.C1B=4,i.C1A=5,i.U1=6,i.V1=7,i.X2=8,i.Y2=9,i.C2R=10,i.C2G=11,i.C2B=12,i.C2A=13,i.U2=14,i.V2=15,i.X3=16,i.Y3=17,i.C3R=18,i.C3G=19,i.C3B=20,i.C3A=21,i.U3=22,i.V3=23,i.X4=24,i.Y4=25,i.C4R=26,i.C4G=27,i.C4B=28,i.C4A=29,i.U4=30,i.V4=31,i}(t.Attachment);t.RegionAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return e.prototype.begin=function(t){},e.prototype.transform=function(e,i,n,r){e.x+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e}();t.JitterEffect=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return e.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},e.prototype.transform=function(i,n,r,a){var s=this.angle*t.MathUtils.degreesToRadians,o=i.x-this.worldX,h=i.y-this.worldY,l=Math.sqrt(o*o+h*h);if(l<this.radius){var c=e.interpolation.apply(0,s,(this.radius-l)/this.radius),u=Math.cos(c),p=Math.sin(c);i.x=u*o-p*h+this.worldX,i.y=p*o+u*h+this.worldY}},e.prototype.end=function(){},e.interpolation=new t.PowOut(2),e}();t.SwirlEffect=e}(t.core||(t.core={}))}(r||(r={})),function(t){PIXI.spine=t;var e=PIXI.Texture.prototype;e._updateUvs||(e._updateUvs=e.updateUvs)}(r||(r={})),function(t){function e(){return function(e,r){if(!e.data||!function(t){return t.type===PIXI.loaders.Resource.TYPE.JSON}(e)||!e.data.bones)return r();var a=e.metadata||{},s=a?e.metadata.spineSkeletonScale:null,o=a?e.metadata.spineAtlas:null;if(!1===o)return r();if(o&&o.pages){var h=new t.core.SkeletonJson(new t.core.AtlasAttachmentLoader(o)).readSkeletonData(e.data);return e.spineData=h,e.spineAtlas=o,r()}var l=a.spineAtlasSuffix||".atlas",c=e.url.substr(0,e.url.lastIndexOf("."))+l;e.metadata&&e.metadata.spineAtlasFile&&(c=e.metadata.spineAtlasFile),c=c.replace(this.baseUrl,"");var u={crossOrigin:e.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:a.spineMetadata||null,parentResource:e},p={crossOrigin:e.crossOrigin,metadata:a.imageMetadata||null,parentResource:e},f=e.url.substr(0,e.url.lastIndexOf("/")+1);f=f.replace(this.baseUrl,"");var d=a.imageNamePrefix||e.name+"_atlas_page_",m=a.images?n(a.images):a.image?n({default:a.image}):a.imageLoader?a.imageLoader(this,d,f,p):i(this,d,f,p),g=function(i){new t.core.TextureAtlas(i,m,function(i){var n=new t.core.SkeletonJson(new t.core.AtlasAttachmentLoader(i));s&&(n.scale=s),e.spineData=n.readSkeletonData(e.data),e.spineAtlas=i,r()})};if(e.metadata&&e.metadata.atlasRawData)g(e.metadata.atlasRawData);else{var v=t.core.TextureAtlasReader,y=this;this.add(e.name+"_atlas",c,u,function(t){for(var e=[],i=new v(t.xhr.responseText);;){var n=i.readLine();if(null==n)break;n=n.trim(),/\.atlas$/.test(n)&&e.push(n)}if(0==e.length)return g(t.xhr.responseText);for(var r=0,a=[t.xhr.responseText],s=function(t,i){a.push("\r\n"+i+"\r\n"+t),++r==e.length&&g(a.join(""))},o=function(t,e){var i=y.resources[t];i?i.data?s(i.data,e):i.onAfterMiddleware.once(function(){s(i.data,e)}):y.add(t,f+e,u,function(t){s(t.xhr.responseText,e)})},h=0;h<e.length;h++){var l=e[h];o(l.substring(l.lastIndexOf("/")+1,l.lastIndexOf("."))+"_sub_atlas",l)}})}}}function i(t,e,i,n){return i&&i.lastIndexOf("/")!==i.length-1&&(i+="/"),function(e,r){var a="sub_"+e.substr(e.lastIndexOf("/")+1),s=i+e,o=t.resources[a];if(o){function h(){r(o.texture.baseTexture)}o.texture?h():o.onAfterMiddleware.add(h)}else t.add(a,s,n,function(t){r(t.texture.baseTexture)})}}function n(t){return function(e,i){var n=t[e]||t.default;n&&n.baseTexture?i(n.baseTexture):i(n)}}t.atlasParser=e,t.imageLoaderAdapter=i,t.syncImageLoaderAdapter=function(t,e){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,i){i(PIXI.BaseTexture.fromImage(t,e))}},t.staticImageLoader=n,PIXI.loaders.Loader.addPixiMiddleware(e),PIXI.loader.use(e())}(r||(r={})),Math.fround||(Math.fround=Math.fround=(n=new Float32Array(1),function(t){return n[0]=t,n[0]})),function(t){t.core.Bone.yDown=!0;var e=[0,0,0],i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.region=null,e}return a(e,t),e}(PIXI.Sprite);t.SpineSprite=i;var n=function(t){function e(e,i,n,r,a){return t.call(this,e,i,n,r,a)||this}return a(e,t),e}(PIXI.mesh.Mesh);t.SpineMesh=n;var r=function(r){function o(e){var i=r.call(this)||this;if(!e)throw new Error("The spineData param is required.");if("string"==typeof e)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');i.spineData=e,i.skeleton=new t.core.Skeleton(e),i.skeleton.updateWorldTransform(),i.stateData=new t.core.AnimationStateData(e),i.state=new t.core.AnimationState(i.stateData),i.slotContainers=[],i.tempClipContainers=[];for(var n=0,a=i.skeleton.slots.length;n<a;n++){var s=i.skeleton.slots[n],o=s.attachment,h=i.newContainer();if(i.slotContainers.push(h),i.addChild(h),i.tempClipContainers.push(null),o instanceof t.core.RegionAttachment){var l=o.region.name,c=i.createSprite(s,o,l);s.currentSprite=c,s.currentSpriteName=l,h.addChild(c)}else if(o instanceof t.core.MeshAttachment){var u=i.createMesh(s,o);s.currentMesh=u,s.currentMeshName=o.name,h.addChild(u)}else{if(!(o instanceof t.core.ClippingAttachment))continue;i.createGraphics(s,o),h.addChild(s.clippingContainer),h.addChild(s.currentGraphics)}}return i.autoUpdate=!0,i.tintRgb=new Float32Array([1,1,1]),i}return a(o,r),Object.defineProperty(o.prototype,"autoUpdate",{get:function(){return this.updateTransform===o.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?o.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),o.prototype.update=function(i){this.state.update(i),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();var n=this.skeleton.slots,r=this.color,a=null,o=null;r?(a=r.light,o=r.dark):a=this.tintRgb;for(var h=PIXI.TransformBase&&1==this.transformHack(),l=0,c=n.length;l<c;l++){var u=(k=n[l]).attachment,p=this.slotContainers[l];if(u){var f=null,d=u.color;if(u instanceof t.core.RegionAttachment){var m=u.region;if(m){k.currentMesh&&(k.currentMesh.visible=!1,k.currentMesh=null,k.currentMeshName=void 0);var g=m;if(!k.currentSpriteName||k.currentSpriteName!==g.name){var v=g.name;if(k.currentSprite&&(k.currentSprite.visible=!1),k.sprites=k.sprites||{},void 0!==k.sprites[v])k.sprites[v].visible=!0;else{var y=this.createSprite(k,u,v);p.addChild(y)}k.currentSprite=k.sprites[v],k.currentSpriteName=v}}if(p.transform){var x=T=p.transform,w=null;x.matrix2d?(w=x.matrix2d,x._dirtyVersion++,x.version=x._dirtyVersion,x.isStatic=!0,x.operMode=0):h?(x.position&&((T=new PIXI.TransformBase)._parentID=-1,T._worldID=p.transform._worldID,p.transform=T),w=T.localTransform):x.setFromMatrix(k.bone.matrix),w&&k.bone.matrix.copy(w)}else{w=p.localTransform||new PIXI.Matrix;k.bone.matrix.copy(w),p.localTransform=w,p.displayObjectUpdateTransform=s}k.currentSprite.color?f=k.currentSprite.color:(e[0]=a[0]*k.color.r*d.r,e[1]=a[1]*k.color.g*d.g,e[2]=a[2]*k.color.b*d.b,k.currentSprite.tint=PIXI.utils.rgb2hex(e)),k.currentSprite.blendMode=k.blendMode}else if(u instanceof t.core.MeshAttachment){var T;if(k.currentSprite)if(k.currentSprite.visible=!1,k.currentSprite=null,k.currentSpriteName=void 0,p.transform)(T=new PIXI.TransformStatic)._parentID=-1,T._worldID=p.transform._worldID,p.transform=T;else p.localTransform=new PIXI.Matrix,p.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform;if(!k.currentMeshName||k.currentMeshName!==u.name){var E=u.name;if(k.currentMesh&&(k.currentMesh.visible=!1),k.meshes=k.meshes||{},void 0!==k.meshes[E])k.meshes[E].visible=!0;else{var b=this.createMesh(k,u);p.addChild(b)}k.currentMesh=k.meshes[E],k.currentMeshName=E}if(u.computeWorldVerticesOld(k,k.currentMesh.vertices),k.currentMesh.color)f=k.currentMesh.color;else if("3"!==PIXI.VERSION[0]){var M=k.currentMesh.tintRgb;M[0]=a[0]*k.color.r*d.r,M[1]=a[1]*k.color.g*d.g,M[2]=a[2]*k.color.b*d.b}k.currentMesh.blendMode=k.blendMode}else{if(!(u instanceof t.core.ClippingAttachment)){p.visible=!1;continue}k.currentGraphics||(this.createGraphics(k,u),p.addChild(k.clippingContainer),p.addChild(k.currentGraphics)),this.updateGraphics(k,u)}if(p.visible=!0,f){var S=k.color.r*d.r,P=k.color.g*d.g,A=k.color.b*d.b;f.setLight(a[0]*S+o[0]*(1-S),a[1]*P+o[1]*(1-P),a[2]*A+o[2]*(1-A)),k.darkColor?(S=k.darkColor.r,P=k.darkColor.g,A=k.darkColor.b):(S=0,P=0,A=0),f.setDark(a[0]*S+o[0]*(1-S),a[1]*P+o[1]*(1-P),a[2]*A+o[2]*(1-A))}p.alpha=k.color.a}else p.visible=!1}var I=this.skeleton.drawOrder,R=null,C=null;for(l=0,c=I.length;l<c;l++){var k=n[I[l].data.index];p=this.slotContainers[I[l].data.index];if(C||p.parent!==this&&(p.parent.removeChild(p),p.parent=this),k.currentGraphics&&k.attachment)C=k.clippingContainer,R=k.attachment,C.children.length=0,this.children[l]=p,R.endSlot==k.data&&(R.endSlot=null);else if(C){var V=this.tempClipContainers[l];V||((V=this.tempClipContainers[l]=this.newContainer()).visible=!1),this.children[l]=V,p.parent=null,C.addChild(p),R.endSlot==k.data&&(C.renderable=!0,C=null,R=null)}else this.children[l]=p}},o.prototype.setSpriteRegion=function(t,e,i){e.region=i,e.texture=i.texture,i.size?(e.scale.x=i.size.width/i.originalWidth,e.scale.y=-i.size.height/i.originalHeight):(e.scale.x=t.scaleX*t.width/i.originalWidth,e.scale.y=-t.scaleY*t.height/i.originalHeight)},o.prototype.setMeshRegion=function(t,e,i){e.region=i,e.texture=i.texture,i.texture._updateUvs(),t.updateUVs(i,e.uvs),e.dirty++},o.prototype.autoUpdateTransform=function(){if(o.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},o.prototype.createSprite=function(e,i,n){var r=i.region;e.tempAttachment===i&&(r=e.tempRegion,e.tempAttachment=null,e.tempRegion=null);var a=r.texture,s=this.newSprite(a);return s.rotation=i.rotation*t.core.MathUtils.degRad,s.anchor.x=.5,s.anchor.y=.5,s.position.x=i.x,s.position.y=i.y,s.alpha=i.color.a,s.region=i.region,this.setSpriteRegion(i,s,i.region),e.sprites=e.sprites||{},e.sprites[n]=s,s},o.prototype.createMesh=function(t,e){var i=e.region;t.tempAttachment===e&&(i=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var n=this.newMesh(i.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return n.canvasPadding=1.5,n.alpha=e.color.a,n.region=e.region,this.setMeshRegion(e,n,i),t.meshes=t.meshes||{},t.meshes[e.name]=n,n},o.prototype.createGraphics=function(t,e){var i=this.newGraphics(),n=new PIXI.Polygon([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(n),i.renderable=!1,t.currentGraphics=i,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,i},o.prototype.updateGraphics=function(t,e){var i=t.currentGraphics.graphicsData[0].shape.points,n=e.worldVerticesLength;i.length=n,e.computeWorldVertices(t,0,n,i,0,2),t.currentGraphics.dirty++,t.currentGraphics.clearDirty++},o.prototype.hackTextureBySlotIndex=function(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null);var r=this.skeleton.slots[e];if(!r)return!1;var a=r.attachment,s=a.region;return i&&((s=new t.core.TextureRegion).texture=i,s.size=n),r.currentSprite&&r.currentSprite.region!=s?(this.setSpriteRegion(a,r.currentSprite,s),r.currentSprite.region=s):r.currentMesh&&r.currentMesh.region!=s?this.setMeshRegion(a,r.currentMesh,s):(r.tempRegion=s,r.tempAttachment=a),!0},o.prototype.hackTextureBySlotName=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=this.skeleton.findSlotIndex(t);return-1!=n&&this.hackTextureBySlotIndex(n,e,i)},o.prototype.newContainer=function(){return new PIXI.Container},o.prototype.newSprite=function(t){return new i(t)},o.prototype.newGraphics=function(){return new PIXI.Graphics},o.prototype.newMesh=function(t,e,i,r,a){return new n(t,e,i,r,a)},o.prototype.transformHack=function(){return 1},o.prototype.destroy=function(t){for(var e=0,i=this.skeleton.slots.length;e<i;e++){var n=this.skeleton.slots[e];for(var a in n.meshes)n.meshes[a].destroy(t);for(var s in n.meshes=null,n.sprites)n.sprites[s].destroy(t);n.sprites=null}for(e=0,i=this.slotContainers.length;e<i;e++)this.slotContainers[e].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,r.prototype.destroy.call(this,t)},o.globalAutoUpdate=!0,o.clippingPolygon=[],o}(PIXI.Container);function s(){var t=this.parent.worldTransform,e=this.worldTransform,i=this.localTransform;e.a=i.a*t.a+i.b*t.c,e.b=i.a*t.b+i.b*t.d,e.c=i.c*t.a+i.d*t.c,e.d=i.c*t.b+i.d*t.d,e.tx=i.tx*t.a+i.ty*t.c+t.tx,e.ty=i.tx*t.b+i.ty*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}t.Spine=r}(r||(r={})),r.Spine.prototype.replaceAttachment=function(t,e){for(var i=this.skeleton,n=0;n<i.slots.length;n++){var a=i.slots[n],s=this.slotContainers[n],o=a.attachment;if(o instanceof r.core.RegionAttachment){if(a.currentSpriteName==t){var h=o.region.name;o.region.texture=e;var l=this.createSprite(a,o,h);return a.currentSprite=l,a.currentSpriteName=h,s.removeChildAt(0),void s.addChild(l)}}else{if(!(o instanceof r.core.MeshAttachment))continue;if(a.currentMeshName==t){o.region.texture=e;var c=this.createMesh(a,o);return a.currentMesh=c,a.currentMeshName=o.name,s.removeChildAt(0),void s.addChild(c)}}}}},349:function(t,e,i){var n;window.PointerEvent=void 0,function(r,a,s){var o=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(t){r.setTimeout(t,1e3/60)},h=function(){var t={},e=a.createElement("div").style,i=function(){for(var t=["t","webkitT","MozT","msT","OT"],i=0,n=t.length;i<n;i++)if(t[i]+"ransform"in e)return t[i].substr(0,t[i].length-1);return!1}();function n(t){return!1!==i&&(""===i?t:i+t.charAt(0).toUpperCase()+t.substr(1))}t.getTime=Date.now||function(){return(new Date).getTime()},t.extend=function(t,e){for(var i in e)t[i]=e[i]},t.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},t.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},t.prefixPointerEvent=function(t){return r.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},t.momentum=function(t,e,i,n,r,a){var o,h,l=t-e,c=s.abs(l)/i;return h=c/(a=void 0===a?6e-4:a),(o=t+c*c/(2*a)*(l<0?-1:1))<n?(o=r?n-r/2.5*(c/8):n,h=(l=s.abs(o-t))/c):o>0&&(o=r?r/2.5*(c/8):0,h=(l=s.abs(t)+o)/c),{destination:s.round(o),duration:h}};var o=n("transform");return t.extend(t,{hasTransform:!1!==o,hasPerspective:n("perspective")in e,hasTouch:"ontouchstart"in r,hasPointer:!(!r.PointerEvent&&!r.MSPointerEvent),hasTransition:n("transition")in e}),t.isBadAndroid=function(){var t=r.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var e=t.match(/Safari\/(\d+.\d)/);return!(e&&"object"==typeof e&&e.length>=2)||parseFloat(e[1])<535.19}return!1}(),t.extend(t.style={},{transform:o,transitionTimingFunction:n("transitionTimingFunction"),transitionDuration:n("transitionDuration"),transitionDelay:n("transitionDelay"),transformOrigin:n("transformOrigin")}),t.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},t.addClass=function(e,i){if(!t.hasClass(e,i)){var n=e.className.split(" ");n.push(i),e.className=n.join(" ")}},t.removeClass=function(e,i){if(t.hasClass(e,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");e.className=e.className.replace(n," ")}},t.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},t.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return s.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*s.pow(2,-10*t)*s.sin((t-.055)*(2*s.PI)/.22)+1}}}),t.tap=function(t,e){var i=a.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},t.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||((e=a.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},t}();function l(t,e){for(var i in this.wrapper="string"==typeof t?a.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,moveScale:1,disablePointer:!h.hasPointer,disableTouch:h.hasPointer||!h.hasTouch,disableMouse:h.hasPointer||h.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===r.onmousedown},e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&h.hasPerspective?" translateZ(0)":"",this.options.useTransition=h.hasTransition&&this.options.useTransition,this.options.useTransform=h.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?h.ease[this.options.bounceEasing]||h.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function c(t,e,i){var n=a.createElement("div"),r=a.createElement("div");return!0===i&&(n.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(!0===i&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(!0===i&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",e||(n.style.pointerEvents="none"),n.appendChild(r),n}function u(t,e){for(var i in this.wrapper="string"==typeof e.el?a.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},e)this.options[i]=e[i];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(h.addEvent(this.indicator,"touchstart",this),h.addEvent(r,"touchend",this)),this.options.disablePointer||(h.addEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.addEvent(r,h.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(h.addEvent(this.indicator,"mousedown",this),h.addEvent(r,"mouseup",this))),this.options.fade){this.wrapperStyle[h.style.transform]=this.scroller.translateZ;var n=h.style.transitionDuration;this.wrapperStyle[n]=h.isBadAndroid?"0.0001ms":"0ms";var s=this;h.isBadAndroid&&o(function(){"0.0001ms"===s.wrapperStyle[n]&&(s.wrapperStyle[n]="0s")}),this.wrapperStyle.opacity="0"}}l.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=h.eventType[t.type]&&0!==(t.which?t.button:t.button<2?0:4==t.button?1:2))return;if(this.enabled&&(!this.initiated||h.eventType[t.type]===this.initiated)){!this.options.preventDefault||h.isBadAndroid||h.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=h.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=h.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,e=this.getComputedPosition(),this._translate(s.round(e.x),s.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&h.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,r,a=t.touches?t.touches[0]:t,o=a.pageX-this.pointX,l=a.pageY-this.pointY,c=h.getTime();if(o*=this.options.moveScale,l*=this.options.moveScale,this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=o,this.distY+=l,n=s.abs(this.distX),r=s.abs(this.distY),!(c-this.endTime>300&&n<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(n>r+this.options.directionLockThreshold?this.directionLocked="h":r>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,l=this.hasVerticalScroll?l:0,e=this.x+o,i=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+o/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/3:i>0?0:this.maxScrollY),this.directionX=o>0?-1:o<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&h.eventType[t.type]===this.initiated){this.options.preventDefault&&!h.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();t.changedTouches&&t.changedTouches[0];var e,i,n=h.getTime()-this.startTime,r=s.round(this.x),a=s.round(this.y),o=s.abs(r-this.startX),l=s.abs(a-this.startY),c=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=h.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,a),!this.moved)return this.options.tap&&h.tap(t,this.options.tap),this.options.click&&h.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&o<100&&l<100)this._execEvent("flick");else{if(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?h.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},i=this.hasVerticalScroll?h.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},r=e.destination,a=i.destination,c=s.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(r,a);this.currentPage=p,c=this.options.snapSpeed||s.max(s.max(s.min(s.abs(r-p.x),1e3),s.min(s.abs(a-p.y),1e3)),300),r=p.x,a=p.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}if(r!=this.x||a!=this.y)return(r>0||r<this.maxScrollX||a>0||a<this.maxScrollY)&&(u=h.ease.quadratic),void this.scrollTo(r,a,c,u);this._execEvent("scrollEnd")}}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refreshMoveScale:function(t){this.options.moveScale=t},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=h.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||h.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var r=this.options.useTransition&&n.style;!i||r?(r&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,i,n,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var a=h.offset(t);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,!0===i&&(i=s.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===n&&(n=s.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),a.left-=i||0,a.top-=n||0,a.left=a.left>0?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=a.top>0?0:a.top<this.maxScrollY?this.maxScrollY:a.top,e=void 0===e||null===e||"auto"===e?s.max(s.abs(this.x-a.left),s.abs(this.y-a.top)):e,this.scrollTo(a.left,a.top,e,r)}},_transitionTime:function(t){t=t||0;var e=h.style.transitionDuration;if(this.scrollerStyle[e]=t+"ms",!t&&h.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;o(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[h.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[h.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=s.round(t),e=s.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(t){var e=t?h.removeEvent:h.addEvent,i=this.options.bindToWrapper?this.wrapper:r;e(r,"orientationchange",this),e(r,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(i,"mousemove",this),e(i,"mousecancel",this),e(i,"mouseup",this)),h.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,h.prefixPointerEvent("pointerdown"),this),e(i,h.prefixPointerEvent("pointermove"),this),e(i,h.prefixPointerEvent("pointercancel"),this),e(i,h.prefixPointerEvent("pointerup"),this)),h.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(i,"touchmove",this),e(i,"touchcancel",this),e(i,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,i=r.getComputedStyle(this.scroller,null);return this.options.useTransform?(t=+((i=i[h.style.transform].split(")")[0].split(", "))[12]||i[4]),e=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),e=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_initIndicators:function(){var t,e=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,n=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:c("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:c("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var a=n.length;a--;)this.indicators.push(new u(this,n[a]));function s(t){if(r.indicators)for(var e=r.indicators.length;e--;)t.call(r.indicators[e])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){s(function(){this.fade()})}),this.on("scrollCancel",function(){s(function(){this.fade()})}),this.on("scrollStart",function(){s(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){s(function(){this.fade(1,!0)})})),this.on("refresh",function(){s(function(){this.refresh()})}),this.on("destroy",function(){s(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){h.addEvent(this.wrapper,"wheel",this),h.addEvent(this.wrapper,"mousewheel",this),h.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,h.removeEvent(this.wrapper,"wheel",this),h.removeEvent(this.wrapper,"mousewheel",this),h.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,i,n,r,a=this;if(void 0===this.wheelTimeout&&a._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a.options.snap||a._execEvent("scrollEnd"),a.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection*this.options.moveScale,i*=this.options.invertWheelDirection*this.options.moveScale,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return n=this.currentPage.pageX,r=this.currentPage.pageY,e>0?n--:e<0&&n++,i>0?r--:i<0&&r++,void this.goToPage(n,r);n=this.x+s.round(this.hasHorizontalScroll?e:0),r=this.y+s.round(this.hasVerticalScroll?i:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=i>0?-1:i<0?1:0,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(n,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,n,r,a,o=0,h=0,l=0,c=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(i=s.round(c/2),n=s.round(u/2);l>-this.scrollerWidth;){for(this.pages[o]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[o][t]={x:s.max(l,this.maxScrollX),y:s.max(r,this.maxScrollY),width:c,height:u,cx:l-i,cy:r-n},r-=u,t++;l-=c,o++}else for(t=(a=this.options.snap).length,e=-1;o<t;o++)(0===o||a[o].offsetLeft<=a[o-1].offsetLeft)&&(h=0,e++),this.pages[h]||(this.pages[h]=[]),l=s.max(-a[o].offsetLeft,this.maxScrollX),r=s.max(-a[o].offsetTop,this.maxScrollY),i=l-s.round(a[o].offsetWidth/2),n=r-s.round(a[o].offsetHeight/2),this.pages[h][e]={x:l,y:r,width:a[o].offsetWidth,height:a[o].offsetHeight,cx:i,cy:n},l>this.maxScrollX&&h++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=s.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=s.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||s.max(s.max(s.min(s.abs(this.x-this.startX),1e3),s.min(s.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,n=this.pages.length,r=0;if(s.abs(t-this.absStartX)<this.snapThresholdX&&s.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);i<n;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(n=this.pages[i].length;r<n;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return i==this.currentPage.pageX&&((i+=this.directionX)<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),r==this.currentPage.pageY&&((r+=this.directionY)<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:i,pageY:r}},goToPage:function(t,e,i,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var r=this.pages[t][e].x,a=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||s.max(s.max(s.min(s.abs(r-this.x),1e3),s.min(s.abs(a-this.y),1e3)),300):i,this.currentPage={x:r,y:a,pageX:t,pageY:e},this.scrollTo(r,a,i,n)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(t){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];h.addEvent(r,"keydown",this),this.on("destroy",function(){h.removeEvent(r,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,n=i?this.currentPage.pageX:this.x,r=i?this.currentPage.pageY:this.y,a=h.getTime(),o=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(s.round(e.x),s.round(e.y)),this.isInTransition=!1),this.keyAcceleration=a-o<200?s.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:r+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:r-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,r=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,r=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=i?1:5+this.keyAcceleration>>0;break;default:return}i?this.goToPage(n,r):(n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,r,0),this.keyTime=a)}},_animate:function(t,e,i,n){var r=this,a=this.x,s=this.y,l=h.getTime(),c=l+i;this.isAnimating=!0,function u(){var p,f,d,m=h.getTime();if(m>=c)return r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"));d=n(m=(m-l)/i),p=(t-a)*d+a,f=(e-s)*d+s,r._translate(p,f),r.isAnimating&&o(u)}()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},u.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(h.removeEvent(this.indicator,"touchstart",this),h.removeEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.removeEvent(this.indicator,"mousedown",this),h.removeEvent(r,"touchmove",this),h.removeEvent(r,h.prefixPointerEvent("pointermove"),this),h.removeEvent(r,"mousemove",this),h.removeEvent(r,"touchend",this),h.removeEvent(r,h.prefixPointerEvent("pointerup"),this),h.removeEvent(r,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=h.getTime(),this.options.disableTouch||h.addEvent(r,"touchmove",this),this.options.disablePointer||h.addEvent(r,h.prefixPointerEvent("pointermove"),this),this.options.disableMouse||h.addEvent(r,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,r,a=t.touches?t.touches[0]:t;h.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=a.pageX-this.lastPointX,this.lastPointX=a.pageX,i=a.pageY-this.lastPointY,this.lastPointY=a.pageY,n=this.x+e,r=this.y+i,this._pos(n,r),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),h.removeEvent(r,"touchmove",this),h.removeEvent(r,h.prefixPointerEvent("pointermove"),this),h.removeEvent(r,"mousemove",this),this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||s.max(s.max(s.min(s.abs(this.scroller.x-e.x),1e3),s.min(s.abs(this.scroller.y-e.y),1e3)),300);this.scroller.x==e.x&&this.scroller.y==e.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=h.style.transitionDuration;if(this.indicatorStyle[e]=t+"ms",!t&&h.isBadAndroid){this.indicatorStyle[e]="0.0001ms";var i=this;o(function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[h.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(h.addClass(this.wrapper,"iScrollBothScrollbars"),h.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(h.removeClass(this.wrapper,"iScrollBothScrollbars"),h.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=s.max(s.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=s.max(s.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&s.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&s.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=s.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=s.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=s.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=s.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[h.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?s.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?s.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[h.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},l.utils=h,t.exports?t.exports=l:void 0===(n=function(){return l}.call(e,i,e,t))||(t.exports=n)}(window,document,Math)}}]);